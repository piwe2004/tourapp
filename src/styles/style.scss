@use 'sass:color';
@use 'variables' as *;
@use 'mixins' as *;

// =================================================================================================
// Confirm Modal
// =================================================================================================
.confirm-modal {
    .modalOverlay {
        position: fixed;
        inset: 0;
        z-index: 2000;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: rgba(0, 0, 0, 0.5); // bg-black/50
        backdrop-filter: blur(4px);
        padding: 1rem; // p-4
        animation: fadeIn 0.2s ease-out;
    }

    .modalContent {
        background-color: #ffffff;
        border-radius: 1rem; // rounded-2xl
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); // shadow-2xl
        width: 100%;
        max-width: 24rem; // max-w-sm
        overflow: hidden;
        animation: scaleIn 0.2s ease-out;
        
        .body {
            padding: 1.5rem; // p-6
            text-align: center;
        }
    }

    .iconWrapper {
        width: 3rem; // w-12
        height: 3rem; // h-12
        background-color: #fef3c7; // bg-amber-100
        color: #f59e0b; // text-amber-500
        border-radius: 9999px; // rounded-full
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 1rem auto; // mx-auto mb-4
    }

    .title {
        font-size: 1.125rem; // text-lg
        font-weight: 700; // font-bold
        color: #0f172a; // text-slate-900
        margin-bottom: 0.5rem; // mb-2
    }

    .message {
        color: #475569; // text-slate-600
        margin-bottom: 1.5rem; // mb-6
        white-space: pre-wrap;
        line-height: 1.625; // leading-relaxed
    }

    .buttonGroup {
        display: flex;
        gap: 0.75rem; // gap-3
    }

    .cancelButton {
        flex: 1 1 0%;
        padding: 0.75rem 1rem; // py-3 px-4
        background-color: #f1f5f9; // bg-slate-100
        color: #334155; // text-slate-700
        font-weight: 700; // font-bold
        border-radius: 0.75rem; // rounded-xl
        transition: background-color 0.2s ease;
        
        &:hover {
            background-color: #e2e8f0; // hover:bg-slate-200
        }
    }

    .confirmButton {
        flex: 1 1 0%;
        padding: 0.75rem 1rem; // py-3 px-4
        background-color: $primary-color; // bg-indigo-600
        color: #ffffff;
        font-weight: 700; // font-bold
        border-radius: 0.75rem; // rounded-xl
        transition: background-color 0.2s ease;
        box-shadow: 0 10px 15px -3px rgba(199, 210, 254, 0.5); // shadow-lg shadow-indigo-200
        
        &:hover {
            background-color: #4338ca; // hover:bg-indigo-700
        }
    }
}

// =================================================================================================
// Smart Mix Modal
// =================================================================================================
.smart-mix-modal {
    .modalOverlay {
        position: fixed;
        inset: 0;
        z-index: 2000;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: rgba(0, 0, 0, 0.5); // bg-black/50
        backdrop-filter: blur(4px);
        padding: 1rem; // p-4
        animation: fadeIn 0.2s ease-out;
    }

    .modalContent {
        background-color: #ffffff;
        border-radius: 1.5rem; // rounded-3xl
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); // shadow-2xl
        width: 100%;
        max-width: 42rem; // max-w-2xl
        overflow: hidden;
        position: relative;
        animation: scaleIn 0.2s ease-out;
    }

    .header {
        background-color: $primary-color; // bg-indigo-600
        padding: 1.5rem; // p-6
        color: #ffffff;
        position: relative;
        overflow: hidden;

        .bgIcon {
            position: absolute;
            top: 0;
            right: 0;
            padding: 2rem; // p-8
            opacity: 0.1;
            pointer-events: none;
        }

        .title {
            font-size: 1.5rem; // md:text-2xl
            font-weight: 700; // font-bold
            display: flex;
            align-items: center;
            gap: 0.5rem; // gap-2
            position: relative;
            z-index: 10;
            
            @include mobile {
                font-size: 1.125rem; // text-[18px]
            }
        }

        .subtitle {
            font-size: 1rem; // md:text-[16px]
            opacity: 0.9;
            margin-top: 0.25rem; // mt-1
            position: relative;
            z-index: 10;
            color: #e0e7ff; // text-indigo-100

            @include mobile {
                font-size: 0.875rem; // text-[14px]
            }
        }

        .closeButton {
            position: absolute;
            top: 1rem; // top-4
            right: 1rem; // right-4
            background-color: rgba(255, 255, 255, 0.2); // bg-white/20
            padding: 0.5rem; // p-2
            border-radius: 9999px; // rounded-full
            transition: all 0.2s ease;
            z-index: 20;
            cursor: pointer;

            &:hover {
                background-color: rgba(255, 255, 255, 0.3); // hover:bg-white/30
            }
        }
    }

    .body {
        padding: 2rem; // md:p-8
        
        @include mobile {
            padding: 1rem; // p-4
        }
    }

    .stepper {
        display: flex;
        align-items: center;
        justify-content: space-between;
        margin-bottom: 2rem; // mb-8
        gap: 1rem; // gap-4

        .step {
            display: flex;
            align-items: center;
            gap: 0.5rem; // gap-2
            font-weight: 700;
            
            &.active {
                color: $primary-color; // text-indigo-600
                
                .circle {
                    background-color: #e0e7ff; // bg-indigo-100
                }
            }
            
            &.inactive {
                color: #cbd5e1; // text-slate-300
                
                .circle {
                    background-color: #f1f5f9; // bg-slate-100
                }
            }

            .circle {
                width: 2rem; // w-8
                height: 2rem; // h-8
                border-radius: 9999px; // rounded-full
                display: flex;
                align-items: center;
                justify-content: center;
                font-size: 0.875rem; // text-sm
            }
        }

        .line {
            width: 3rem; // md:w-12
            height: 2px;
            background-color: #f1f5f9; // bg-slate-100
            
            @include mobile {
                width: 1.25rem; // w-5
            }
        }
    }

    .stepContent {
        animation: fadeInRight 0.3s ease-out;
        
        h3 {
            font-size: 1.125rem; // text-lg
            font-weight: 700; // font-bold
            color: #1e293b; // text-slate-800
            margin-bottom: 1rem; // mb-4
            
            @include mobile {
                text-align: left;
            }
            
            @include tablet {
                text-align: center;
            }
        }
    }

    .allScheduleButton {
        padding: 1.5rem; // md:p-6
        width: 100%;
        margin-bottom: 1.25rem; // mb-5
        border-radius: 1rem; // rounded-2xl
        border-width: 2px;
        text-align: left;
        transition: all 0.2s ease;
        position: relative;
        overflow: hidden;
        
        @include mobile {
            padding: 0.75rem; // p-3
        }

        &.selected {
            border-color: $primary-color; // border-indigo-600
            background-color: #eef2ff; // bg-indigo-50
            box-shadow: 0 0 0 4px #eef2ff; // ring-4 ring-indigo-50
        }

        &.unselected {
            border-color: #e2e8f0; // border-slate-200
            &:hover {
                border-color: #a5b4fc; // hover:border-indigo-300
                background-color: #f8fafc; // hover:bg-slate-50
            }
        }

        .contentWrapper {
            display: flex;
            align-items: center;
            gap: 0.75rem; // gap-3
            margin-bottom: 0.5rem; // mb-2
            
            .iconBox {
                padding: 0.75rem; // p-3
                border-radius: 9999px; // rounded-full
                
                &.active {
                    background-color: $primary-color; // bg-indigo-600
                    color: #ffffff;
                }
                &.inactive {
                    background-color: #f1f5f9; // bg-slate-100
                    color: #64748b; // text-slate-500
                }
            }
            
            .textInfo {
                .mainText {
                    font-weight: 700; // font-bold
                    font-size: 1.125rem; // text-lg
                    color: #0f172a; // text-slate-900
                }
                .subText {
                    font-size: 0.75rem; // text-xs
                    color: #64748b; // text-slate-500
                }
            }
        }
        
        .checkIcon {
            position: absolute;
            top: 1rem; // top-4
            right: 1rem; // right-4
            color: $primary-color; // text-indigo-600
        }
    }

    .dayGrid {
        display: flex;
        gap: 0.5rem; // gap-2
        flex-wrap: wrap;
        justify-content: space-between;
        align-items: flex-start;
        overflow-y: auto;
        max-height: 200px;
    }

    .dayButton {
        width: 32%; // md:w-[32%]
        padding: 1rem; // md:p-4
        border-radius: 0.75rem; // rounded-xl
        border-width: 2px;
        display: flex;
        align-items: center;
        justify-content: space-between;
        transition: all 0.2s ease;
        
        @include mobile {
            width: 48%; // w-[48%]
            padding: 0.5rem; // p-2
        }

        &.selected {
            border-color: $primary-color; // border-indigo-600
            background-color: #eef2ff; // bg-indigo-50
            color: #312e81; // text-indigo-900
        }

        &.unselected {
            border-color: #f1f5f9; // border-slate-100
            color: #475569; // text-slate-600
            &:hover {
                border-color: #e2e8f0; // hover:border-indigo-200
                background-color: #f8fafc; // hover:bg-slate-50
            }
        }
        
        .dayInfo {
            display: flex;
            align-items: center;
            gap: 0.75rem; // gap-3
            
            @include mobile {
                flex-direction: column;
                align-items: flex-start;
                gap: 0;
            }
            
            .dateText {
                display: flex;
                flex-direction: column;
                align-items: flex-start;
                
                @include tablet {
                    flex-direction: row;
                    gap: 0.5rem; // md:gap-2
                }
            }
        }
    }

    .footer {
        padding: 1.5rem; // md:p-6
        background-color: #f8fafc; // bg-slate-50
        border-top: 1px solid #f1f5f9; // border-t border-slate-100
        display: flex;
        justify-content: space-between;
        align-items: center;
        
        @include mobile {
            padding: 0.75rem; // p-3
        }
    }

    .prevButton {
        color: #64748b; // text-slate-500
        font-weight: 500; // font-medium
        padding: 0.5rem 1rem; // px-4 py-2
        border-radius: 0.5rem; // rounded-lg
        transition: all 0.2s ease;
        
        &:hover {
            color: #1e293b; // hover:text-slate-800
            background-color: #e2e8f0; // hover:bg-slate-200
        }
    }

    .nextButton {
        padding: 0.75rem 2rem; // px-8 py-3
        border-radius: 0.75rem; // rounded-xl
        font-weight: 700; // font-bold
        color: #ffffff;
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); // shadow-lg
        transition: all 0.2s ease;
        display: flex;
        align-items: center;
        gap: 0.5rem; // gap-2
        
        &.active {
            background-color: $primary-color; // bg-indigo-600
            &:hover {
                background-color: #4338ca; // hover:bg-indigo-700
                box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1); // hover:shadow-xl
                transform: translateY(-0.25rem); // hover:-translate-y-1
            }
        }
        
        &.disabled {
            background-color: #cbd5e1; // bg-slate-300
            cursor: not-allowed;
            box-shadow: none;
            transform: none;
        }
    }
}

// =================================================================================================
// Place Replacement Modal
// =================================================================================================
.place-replacement-modal {
    .modalOverlay {
        position: fixed;
        inset: 0;
        z-index: 2000;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem; // p-4
        background-color: rgba(0, 0, 0, 0.4); // bg-black/40
        backdrop-filter: blur(4px);
        animation: fadeIn 0.2s ease-out;
    }

    .modalContent {
        background-color: #ffffff;
        border-radius: 1rem; // rounded-2xl
        width: 100%;
        max-width: 32rem; // max-w-lg
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); // shadow-2xl
        overflow: hidden;
        transform: scale(1);
        animation: zoomIn 0.2s ease-out;
    }

    .header {
        padding: 1.25rem; // p-5
        border-bottom: 1px solid #f1f5f9; // border-slate-100
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #ffffff;
        position: sticky;
        top: 0;
        z-index: 10;

        .title {
            font-size: 1.25rem; // text-xl
            font-weight: 700; // font-bold
            color: #0f172a; // text-slate-900
        }

        .description {
            font-size: 0.875rem; // text-sm
            color: #64748b; // text-slate-500
            margin-top: 0.25rem; // mt-1
        }

        .closeButton {
            padding: 0.5rem; // p-2
            border-radius: 9999px; // rounded-full
            color: #94a3b8; // text-slate-400
            transition: color 0.15s ease, background-color 0.15s ease;

            &:hover {
                background-color: #f1f5f9; // hover:bg-slate-100
                color: #475569; // hover:text-slate-600
            }
        }
    }

    .body {
        padding: 1.25rem; // p-5
        height: calc(100vh - 50vh);
        display: flex;
        flex-direction: column;
        
        @include mobile {
            height: 600px; // md:h-[600px]
        }
    }

    .searchBar {
        position: relative;
        margin-bottom: 1rem; // mb-4

        .searchIcon {
            position: absolute;
            left: 0.75rem; // left-3
            top: 50%;
            transform: translateY(-50%);
            color: #94a3b8; // text-slate-400
        }

        input {
            width: 100%;
            padding-left: 2.5rem; // pl-10
            padding-right: 1rem; // pr-4
            padding-top: 0.75rem; // py-3
            padding-bottom: 0.75rem;
            background-color: #f8fafc; // bg-slate-50
            border: 1px solid #e2e8f0; // border-slate-200
            border-radius: 0.75rem; // rounded-xl
            font-weight: 500;
            color: #0f172a; // text-slate-900
            transition: all 0.2s ease;

            &:focus {
                outline: none;
                box-shadow: 0 0 0 2px #6366f1; // ring-2 ring-indigo-500
                background-color: #ffffff;
            }
        }
    }

    .categories {
        display: flex;
        gap: 0.5rem; // gap-2
        overflow-x: auto;
        padding-bottom: 1rem; // pb-4
        margin-bottom: 0.5rem; // mb-2
        @include no-scrollbar;

        .categoryButton {
            padding: 0.5rem 1rem; // px-4 py-2
            border-radius: 9999px; // rounded-full
            font-size: 0.875rem; // text-sm
            font-weight: 700; // font-bold
            white-space: nowrap;
            transition: all 0.2s ease;

            &.active {
                background-color: $primary-color; // bg-indigo-600
                color: #ffffff;
                box-shadow: 0 4px 6px -1px rgba(199, 210, 254, 0.5); // shadow-md shadow-indigo-200
            }

            &.inactive {
                background-color: #f1f5f9; // bg-slate-100
                color: #475569; // text-slate-600
                &:hover {
                    background-color: #e2e8f0; // hover:bg-slate-200
                }
            }
        }
    }

    .resultsList {
        flex: 1 1 0%;
        overflow-y: auto;
        padding-right: 0.25rem; // pr-1
        margin-right: -0.5rem; // -mr-2
        display: flex;
        flex-direction: column;
        gap: 0.75rem; // space-y-3
        @include no-scrollbar;

        .loader {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            height: 10rem; // h-40
            gap: 0.75rem; // gap-3
            color: #94a3b8; // text-slate-400
            font-size: 0.875rem; // text-sm
        }
        
        .empty {
            text-align: center;
            padding-top: 5rem; // py-20
            padding-bottom: 5rem;
            color: #94a3b8; // text-slate-400
        }
    }

    .placeCard {
        display: flex;
        align-items: flex-start;
        gap: 1rem; // gap-4
        padding: 1rem; // p-4
        border-radius: 0.75rem; // rounded-xl
        border-width: 2px;
        cursor: pointer;
        transition: all 0.2s ease;
        position: relative;

        &.selected {
            border-color: $primary-color; // border-indigo-600
            background-color: rgba(238, 242, 255, 0.5); // bg-indigo-50/50
            box-shadow: 0 0 0 1px $primary-color; // ring-1 ring-indigo-600
        }

        &.normal {
            border-color: #f1f5f9; // border-slate-100
            background-color: #ffffff;

            &:hover {
                border-color: #e2e8f0; // hover:border-indigo-200
                box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); // hover:shadow-md
            }
        }

        .imagePlaceholder {
            width: 4rem; // w-16
            height: 4rem; // h-16
            border-radius: 0.5rem; // rounded-lg
            background-color: #e2e8f0; // bg-slate-200
            flex-shrink: 0;
            overflow: hidden;
            position: relative;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem; // text-2xl
            color: #94a3b8; // text-slate-400
            background-color: #f1f5f9; // bg-slate-100
        }

        .content {
            flex: 1 1 0%;
            min-width: 0;

            .nameRow {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                margin-bottom: 0.25rem; // mb-1

                h4 {
                    font-weight: 700; // font-bold
                    font-size: 1.125rem; // text-lg
                    @include text-line-clamp(1);
                    
                    &.active { color: #4338ca; } // text-indigo-700
                    &.inactive { color: #0f172a; } // text-slate-900
                }
            }

            .metaRow {
                display: flex;
                align-items: center;
                gap: 0.5rem; // gap-2
                font-size: 0.875rem; // text-sm
                color: #64748b; // text-slate-500
                margin-bottom: 0.25rem; // mb-1

                .category {
                    color: #334155; // text-slate-700
                    font-weight: 500;
                }

                .dot {
                    width: 0.25rem; // w-1
                    height: 0.25rem; // h-1
                    border-radius: 9999px;
                    background-color: #cbd5e1; // bg-slate-300
                }

                .rating {
                    display: flex;
                    align-items: center;
                    gap: 0.25rem;
                    color: #f59e0b; // text-amber-500
                    font-weight: 700;
                }
            }

            .addressRow {
                display: flex;
                align-items: center;
                gap: 0.25rem;
                font-size: 0.75rem; // text-xs
                color: #94a3b8; // text-slate-400
                @include text-line-clamp(1);
            }
        }

        .checkIcon {
            position: absolute;
            top: 1rem; // top-4
            right: 1rem; // right-4
            color: $primary-color; // text-indigo-600
            background-color: #e0e7ff; // bg-indigo-100
            padding: 0.25rem; // p-1
            border-radius: 9999px;
        }
    }

    .searchSource {
        text-align: center;
        font-size: 0.75rem; // text-xs
        color: #94a3b8; // text-slate-400
        margin-top: 0.5rem; // mt-2
    }

    .footer {
        padding: 1.25rem; // p-5
        border-top: 1px solid #f1f5f9; // border-t border-slate-100
        background-color: #f8fafc; // bg-slate-50
        display: flex;
        justify-content: flex-end;
        gap: 0.75rem; // gap-3

        .cancelButton {
            padding: 0.625rem 1.25rem; // px-5 py-2.5
            border-radius: 0.75rem; // rounded-xl
            font-weight: 700; // font-bold
            color: #64748b; // text-slate-500
            
            &:hover {
                background-color: #e2e8f0; // hover:bg-slate-200
            }
        }

        .confirmButton {
            padding: 0.625rem 1.25rem; // px-5 py-2.5
            border-radius: 0.75rem; // rounded-xl
            font-weight: 700; // font-bold
            color: #ffffff;
            display: flex;
            align-items: center;
            gap: 0.5rem; // gap-2
            transition: all 0.2s ease;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); // shadow-lg

            &.active {
                background-color: $primary-color; // bg-indigo-600
                &:hover {
                    background-color: #4338ca; // hover:bg-indigo-700
                    box-shadow: 0 4px 6px -1px rgba(199, 210, 254, 0.5); // hover:shadow-indigo-200
                    transform: translateY(-2px); // hover:-translate-y-0.5
                }
            }

            &.disabled {
                background-color: #cbd5e1; // bg-slate-300
                cursor: not-allowed;
                box-shadow: none;
            }
        }
    }
}

// =================================================================================================
// Guest Editor
// =================================================================================================
.guest-editor {
    .guestEditorContainer {
        background-color: #ffffff;
        border-radius: 1.5rem; // rounded-3xl
        width: 100%;
        padding: 1.5rem; // p-6
        
        &.floating {
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); // shadow-2xl
            max-width: 24rem; // max-w-sm
            margin: 1rem; // m-4
        }

        &.inline {
            box-shadow: none;
            max-width: 100%;
            margin: 0;
        }
    }

    .modalOverlay {
        position: fixed;
        inset: 0;
        z-index: 2000;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        animation: fadeIn 0.2s ease-out;
    }

    .header {
        display: flex;
        justify-content: space-between;
        align-items: center;
        margin-bottom: 1.5rem; // mb-6

        h3 {
            font-size: 1.25rem; // text-xl
            font-weight: 700; // font-bold
            color: #0f172a; // text-slate-900
            display: flex;
            align-items: center;
            gap: 0.5rem; // gap-2
        }

        .closeButton {
            padding: 0.5rem; // p-2
            border-radius: 9999px; // rounded-full
            color: #94a3b8; // text-slate-400
            transition-property: background-color, color;
            transition-duration: 200ms;

            &:hover {
                background-color: #f1f5f9; // hover:bg-slate-100
                color: #475569; // hover:text-slate-600
            }
        }
    }

    .guestRows {
        display: flex;
        flex-direction: column;
        gap: 1.5rem; // space-y-6
        margin-bottom: 2rem; // mb-8
    }

    .guestRow {
        display: flex;
        justify-content: space-between;
        align-items: center;

        .label {
            font-weight: 700; // font-bold
            color: #0f172a; // text-slate-900
            font-size: 1.125rem; // text-lg
        }

        .subLabel {
            font-size: 0.875rem; // text-sm
            color: #94a3b8; // text-slate-400
        }

        .counter {
            display: flex;
            align-items: center;
            gap: 1rem; // gap-4

            button {
                width: 2.5rem; // w-10
                height: 2.5rem; // h-10
                border-radius: 9999px; // rounded-full
                border: 1px solid #e2e8f0; // border-slate-200
                display: flex;
                align-items: center;
                justify-content: center;
                color: #64748b; // text-slate-500
                transition-property: background-color;
                transition-duration: 200ms;

                &:hover {
                    background-color: #f8fafc; // hover:bg-slate-50
                }

                &:disabled {
                    opacity: 0.3;
                    cursor: not-allowed;
                }
            }

            span {
                font-weight: 700; // font-bold
                font-size: 1.25rem; // text-xl
                width: 1.5rem; // w-6
                text-align: center;
            }
        }
    }

    .summary {
        background-color: #eef2ff; // bg-indigo-50
        border-radius: 0.75rem; // rounded-xl
        padding: 1rem; // p-4
        margin-bottom: 1.5rem; // mb-6
        text-align: center;

        p {
            color: $primary-color; // text-indigo-600
            font-weight: 500; // font-medium
        }

        .totalCount {
            font-weight: 700; // font-bold
            font-size: 1.25rem; // text-xl
        }
    }

    .applyButton {
        width: 100%;
        background-color: $primary-color; // bg-indigo-600
        color: #ffffff;
        font-weight: 700; // font-bold
        padding: 1rem; // py-4
        border-radius: 0.75rem; // rounded-xl
        transition-property: all;
        transition-duration: 200ms;
        box-shadow: 0 10px 15px -3px rgba(199, 210, 254, 0.5); // shadow-lg shadow-indigo-200

        &:hover {
            background-color: #4338ca; // hover:bg-indigo-700
        }

        &:active {
            transform: scale(0.95);
        }
    }
}

// =================================================================================================
// Planner Modals (Plan B & Mobile Map)
// =================================================================================================
.planner-modals-wrapper {
    // Plan B Modal
    .planBModalOverlay {
        position: fixed;
        inset: 0;
        z-index: 2010;
        background-color: rgba(0, 0, 0, 0.5);
        backdrop-filter: blur(4px);
        display: flex;
        align-items: center;
        justify-content: center;
        padding: 1rem; // p-4
        animation: fadeIn 0.2s ease-out;
    }

    .planBModalContent {
        background-color: #ffffff;
        border-radius: 1.5rem; // rounded-3xl
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); // shadow-2xl
        width: 100%;
        max-width: 28rem; // max-w-md
        overflow: hidden;
        position: relative;
        transform: scale(1);
        transition-property: all;
        transition-duration: 200ms;
    }

    .planBHeader {
        background-color: $primary-color; // bg-[#4338CA]
        padding: 1.5rem; // p-6
        color: #ffffff;
        position: relative;
        overflow: hidden;

        .bgIcon {
            position: absolute;
            right: -1rem; // -right-4
            top: -1rem; // -top-4
            color: #ffffff;
            opacity: 0.1;
            
            i {
                font-size: 8rem; // text-[128px]
            }
        }

        .title {
            font-size: 1.25rem; // text-xl
            font-weight: 700; // font-bold
            display: flex;
            align-items: center;
            gap: 0.5rem; // gap-2
            position: relative;
            z-index: 10;
        }

        .description {
            color: #e0e7ff; // text-indigo-100
            font-size: 0.875rem; // text-sm
            margin-top: 0.25rem; // mt-1
            position: relative;
            z-index: 10;
        }

        .closeButton {
            position: absolute;
            top: 1rem; // top-4
            right: 1rem; // right-4
            color: rgba(255, 255, 255, 0.7);
            transition: color 0.15s ease;

            &:hover {
                color: #ffffff;
            }
        }
    }

    .planBBody {
        padding: 1.5rem; // p-6
        background-color: #f9fafb; // bg-gray-50
        max-height: 60vh;
        overflow-y: auto;
        @include no-scrollbar;
    }

    .emptyState {
        padding: 2rem; // p-8
        text-align: center;
        color: #6b7280; // text-gray-500

        i {
            font-size: 2.25rem; // text-4xl
            margin-bottom: 1rem; // mb-4
            color: #fb923c; // text-orange-400
        }
    }

    .riskItem {
        margin-bottom: 1.5rem; // mb-6
        &:last-child {
            margin-bottom: 0;
        }

        .riskTitle {
            font-size: 0.875rem; // text-sm
            font-weight: 700;
            color: #6b7280; // text-gray-500
            margin-bottom: 0.5rem; // mb-2
            display: flex;
            align-items: center;
            gap: 0.5rem; // gap-2

            span {
                width: 0.375rem; // w-1.5
                height: 0.375rem; // h-1.5
                background-color: #f87171; // bg-red-400
                border-radius: 9999px;
            }
        }
    }

    .recommendationCard {
        background-color: #ffffff;
        padding: 1rem; // p-4
        border-radius: 1rem; // rounded-2xl
        box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
        border: 1px solid #e5e7eb; // border-gray-200
        margin-bottom: 0.75rem; // mb-3
        cursor: pointer;
        transition: all 0.2s ease;
        display: flex;
        gap: 1rem; // gap-4

        &:hover {
            border-color: $primary-color;
            
            .recName {
                color: #4338ca; // group-hover:text-indigo-700
            }
        }
    }

    .recImageWrapper {
        width: 4rem; // w-16
        height: 4rem; // h-16
        border-radius: 0.75rem; // rounded-xl
        background-color: #ffedd5; // bg-orange-100
        color: #f97316; // text-orange-500
        display: flex;
        align-items: center;
        justify-content: center;
        flex-shrink: 0;
        overflow: hidden;

        img {
            width: 100%;
            height: 100%;
            object-fit: cover;
        }
    }

    .recContent {
        flex: 1 1 0%;
        
        .recName {
            font-weight: 700;
            color: #111827; // text-gray-900
            transition-property: color;
            transition-duration: 150ms;
        }

        .recHighlights {
            font-size: 0.75rem; // text-xs
            color: #6b7280; // text-gray-500
            margin-top: 0.25rem; // mt-1
            @include text-line-clamp(1);
        }

        .recCategory {
            font-size: 0.625rem; // text-[10px]
            background-color: #f3f4f6; // bg-gray-100
            color: #6b7280; // text-gray-500
            padding: 0.125rem 0.5rem; // px-2 py-0.5
            border-radius: 0.25rem; // rounded
            margin-top: 0.5rem; // mt-2
            display: inline-block;
        }
    }

    .noRecMessage {
        font-size: 0.875rem; // text-sm
        color: #9ca3af; // text-gray-400
        padding: 0.5rem; // p-2
    }


    // Mobile Map Modal
    .mobileMapOverlay {
        position: fixed;
        inset: 0;
        z-index: 60;
        background-color: rgba(0, 0, 0, 0.6);
        backdrop-filter: blur(4px);
        padding: 1rem; // p-4
        display: flex;
        align-items: center;
        justify-content: center;
        animation: fadeIn 0.15s ease-out;

        @include mobile {
            display: none; // lg:hidden
        }
        
        @include tablet {
            display: none; // lg:hidden
        }

        @media (max-width: 1024px) {
            display: flex;
        }
        
        @include desktop {
            display: none;
        }
    }

    .mobileMapContainer {
        width: 100%;
        height: 100%;
        max-height: 80vh;
        background-color: #ffffff;
        border-radius: 1.5rem; // rounded-3xl
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); // shadow-2xl
        display: flex;
        flex-direction: column;
        overflow: hidden;
        box-shadow: 0 0 0 1px rgba(255, 255, 255, 0.2); // ring-1 ring-white/20
    }

    .mobileMapHeader {
        display: flex;
        justify-content: space-between;
        align-items: center;
        padding: 1rem; // p-4
        border-bottom: 1px solid #e5e7eb; // border-b
        background-color: #ffffff;

        .title {
            font-weight: 700; // font-bold
            font-size: 1.125rem; // text-lg
            display: flex;
            align-items: center;
            gap: 0.5rem; // gap-2
            color: #111827;
        }

        .closeButton {
            padding: 0.5rem; // p-2
            border-radius: 9999px; // rounded-full
            transition-property: background-color;
            transition-duration: 150ms;
            color: #6b7280;

            &:hover {
                background-color: #f1f5f9; // hover:bg-slate-100
            }
        }
    }

    .mobileMapBody {
        flex: 1 1 0%;
        position: relative;
        
        // Ensure map takes full size
        .map-container {
            width: 100%;
            height: 100%;
        }
    }
}

// =================================================================================================
// Planner Page
// =================================================================================================
.planner-page {
    .plannerPageContainer {
        height: calc(100vh - 224px);
        // Ensure minimum height
        min-height: 800px; 
        width: 100%;
        background-color: #ffffff;
        display: flex;
        flex-direction: column;
        font-family: $font-base;
        overflow: hidden;
    }

    .mainContent {
        display: flex;
        flex: 1 1 0%;
        overflow: hidden;
        position: relative;
    }

    // Loading Skeleton Styles
    .loadingContainer {
        display: flex;
        flex-direction: column;
        gap: 1.5rem; // space-y-6
        max-width: 42rem; // max-w-2xl
        margin: 2.5rem auto 0 auto; // mx-auto mt-10
        text-align: center;

        .spinner {
            width: 2.5rem; // w-10
            height: 2.5rem; // h-10
            border-radius: 9999px; // rounded-full
            border-bottom: 2px solid $primary-color; // border-b-2 border-indigo-600
            margin: 0 auto;
            animation: spin 1s linear infinite;
        }

        .loadingText {
            color: #64748b; // text-slate-500
            font-weight: 500; // font-medium
            animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
        }
    }

    @keyframes spin {
        from {
            transform: rotate(0deg);
        }
        to {
            transform: rotate(360deg);
        }
    }

    @keyframes pulse {
        0%, 100% {
            opacity: 1;
        }
        50% {
            opacity: .5;
        }
    }
}

// =================================================================================================
// Booking Buttons (Global)
// =================================================================================================
.btn-agoda {
    background-color: #333333;
    color: #ffffff;
    border-color: transparent;
    transition: background-color 0.2s ease;

    &:hover {
        background-color: #000000;
    }
}

.btn-yanolja {
    background-color: #DE2E5F;
    color: #ffffff;
    border-color: transparent;
    transition: background-color 0.2s ease;

    &:hover {
        background-color: #C00F43;
    }
}

.btn-yeogi {
    background-color: #F7323F;
    color: #ffffff;
    border-color: transparent;
    transition: background-color 0.2s ease;

    &:hover {
        background-color: #D9001B;
    }
}

.btn-hotelscombined {
    background-color: #24C0E9;
    color: #ffffff;
    border-color: transparent;
    transition: background-color 0.2s ease;

    &:hover {
        background-color: #009BC4;
    }
}

// =================================================================================================
// Layout (Header & Footer)
// =================================================================================================

// Header
.planner-header {
  height: 64px;
  background-color: $white;
  border-bottom: 1px solid #e5e7eb; // gray-200
  @include flex-between;
  padding: 0 1rem;
  flex-shrink: 0;
  z-index: 50;
  position: sticky;
  width: 100%;
  top: 0;

  @include desktop {
    padding: 0 2rem;
  }
}

.logo-container {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  cursor: pointer;
}

.logo-icon {
  width: 2rem;
  height: 2rem;
  background-color: #4338CA;
  border-radius: 0.5rem;
  @include flex-center;
  color: $white;
  font-size: 1.125rem;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  transition: transform 0.15s;

  &:hover {
    transform: scale(1.05);
  }
}

.logo-text {
    font-size: 1.25rem;
    font-weight: 900;
    color: #4338CA;
    letter-spacing: -0.025em;

    @include desktop {
        font-size: 1.5rem;
    }
}

.center-container {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  display: flex;
  flex-direction: column;
  align-items: center;
  width: 100%;
  max-width: 200px;
  pointer-events: none;

  @include desktop {
    max-width: none;
  }
}

.pc-title {
  display: none;
  
  @include desktop {
    display: flex;
    flex-direction: column;
    align-items: center;
    pointer-events: auto;
  }
}

.destination-title {
    font-size: 1.125rem;
    font-weight: 700;
    color: #111827; // gray-900
}

.info-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-top: 0.25rem;
    font-size: 12px;
    font-weight: 500;
    color: #6b7280; // gray-500
}

.info-button {
    display: flex;
    align-items: center;
    gap: 0.375rem;
    transition: color 0.15s;

    &:hover {
        color: #4338CA;
    }
}

.header-divider {
    width: 1px;
    height: 0.625rem;
    background-color: #e5e7eb; // gray-200
}

.actions-container {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.invite-button {
    display: none;

    @include tablet { // md:flex
        display: flex;
        align-items: center;
        padding: 0.5rem 1rem;
        font-size: 0.875rem;
        font-weight: 700;
        color: #4b5563; // gray-600
        border-radius: 0.5rem;
        transition: background-color 0.15s;
        gap: 0.5rem;

        &:hover {
            background-color: #f9fafb; // gray-50
        }
    }
}

.vertical-divider {
    height: 1rem;
    width: 1px;
    background-color: #d1d5db; // gray-300
    margin: 0 0.25rem;
    display: none;

    @include tablet {
        display: block;
    }
}

.save-button {
    padding: 0.5rem 1rem;
    font-size: 0.875rem;
    font-weight: 700;
    color: $white;
    background-color: #4338CA;
    border-radius: 0.5rem;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    transition: all 0.15s;
    display: flex;
    align-items: center;
    gap: 0.5rem;

    &:hover {
        background-color: #3730A3;
    }

    &:active {
        transform: scale(0.95);
    }
}

.profile-image {
    width: 2.25rem;
    height: 2.25rem;
    border-radius: 9999px;
    background-color: #eef2ff; // indigo-50
    border: 1px solid #e0e7ff; // indigo-100
    margin-left: 0.25rem;
    cursor: pointer;
    overflow: hidden;
    transition: all 0.15s;

    &:hover {
        box-shadow: 0 0 0 2px #4338CA; // ring-2
    }

    img {
        width: 100%;
        height: 100%;
        object-fit: cover;
    }
}

// Mobile Header
.mobile-header {
    background-color: $white;
    padding: 1rem 1rem 0.5rem 1rem;
    flex-shrink: 0;
    z-index: 40;
    position: fixed;
    top: 64px;
    width: 100%;
    border-bottom: 1px solid #f3f4f6; // gray-100
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    display: flex;
    align-items: center;
    justify-content: space-between;

    @include desktop {
        display: none;
    }
}

.mobile-info-col {
    display: flex;
    flex-direction: column;
    align-items: flex-start;
    justify-content: space-between;
    gap: 0.375rem;
}

.date-button {
    font-size: 0.75rem; // xs
    font-weight: 500;
    color: #9ca3af; // gray-400
    letter-spacing: -0.025em;
}

.dest-button {
    background-color: #f9fafb; // gray-50
    color: #4b5563; // gray-600
    border: 1px solid #e5e7eb; // gray-200
    padding: 0.25rem 0.625rem;
    border-radius: 0.5rem;
    font-size: 11px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.375rem;
    transition: all 0.15s;

    &:active {
        background-color: #f3f4f6; // gray-100
    }
}

.weather-badge {
    background-color: #FFF7ED;
    color: #F97316;
    padding: 0.25rem 0.625rem;
    border-radius: 9999px;
    font-size: 11px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    border: 1px solid #FFEDD5;
}

.share-button {
    width: 2rem;
    height: 2rem;
    border-radius: 9999px;
    background-color: $white;
    border: 1px solid #f3f4f6; // gray-100
    @include flex-center;
    color: #9ca3af; // gray-400
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    transition: all 0.15s;

    &:active {
        transform: scale(0.95);
    }
}

// Default Header
.default-header {
  position: fixed;
  width: 100%;
  z-index: 50;
  transition: all 0.3s;
  
  &.scrolled {
    background-color: rgba(255, 255, 255, 0.95);
    backdrop-filter: blur(4px);
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    padding: 1rem 0;
  }

  &.transparent {
    background-color: transparent;
    padding: 1.5rem 0;
  }
}

.header-inner {
  margin: 0 auto;
  padding: 0 1.5rem;
  display: flex;
  justify-content: space-between;
  align-items: center;

  @include tablet {
    padding: 0 3rem;
  }
}

.default-logo {
  display: flex;
  align-items: center;
  gap: 0.5rem;
  
  &:hover {
      .default-logo-icon {
          transform: scale(1.1);
      }
  }
}

.default-logo-icon {
  background-color: #4f46e5; // indigo-600
  color: $white;
  padding: 0.625rem;
  border-radius: 0.75rem;
  box-shadow: 0 10px 15px -3px rgba(199, 210, 254, 1), 0 4px 6px -2px rgba(199, 210, 254, 1); // shadow-indigo-200
  transition: transform 0.3s;
}

.default-logo-text {
  font-size: 1.5rem;
  font-weight: 900;
  letter-spacing: -0.05em;
  color: $slate-900;
}

.search-button {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 9999px;
  background-color: $white;
  border: 2px solid #e2e8f0; // slate-200
  @include flex-center;
  color: #64748b; // slate-500
  transition: all 0.3s;

  &:hover {
    border-color: #4f46e5;
    color: #4f46e5;
  }
}

.settings-button {
  width: 2.5rem;
  height: 2.5rem;
  border-radius: 9999px;
  background-color: $slate-900;
  @include flex-center;
  color: $white;
  box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
  transition: background-color 0.15s;

  &:hover {
    background-color: #4f46e5;
  }
}


// Footer
.footer {
  background-color: #f8fafc; // slate-50
  border-top: 1px solid #e2e8f0; // slate-200
  padding: 3rem 0;
  margin-top: 0;
  flex-shrink: 0;

  @include tablet {
    padding: 0;
    height: 160px;
    display: flex;
    align-items: center;
  }
}

.footer-inner {
  max-width: 80rem; // 7xl
  margin: 0 auto;
  padding: 0 1.5rem;
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  align-items: center;
  gap: 1.5rem;
  text-align: center;
  width: 100%;

  @include tablet {
    padding: 0 3rem;
    flex-direction: row;
    text-align: left;
  }
}

.footer-logo-row {
  display: flex;
  align-items: center;
  justify-content: center;
  gap: 0.5rem;
  margin-bottom: 0.5rem;
  
  @include tablet {
      justify-content: flex-start;
  }
}

.footer-logo-icon {
  width: 1.5rem;
  height: 1.5rem;
  background-color: #4f46e5; // indigo-600
  border-radius: 0.5rem;
  @include flex-center;
  color: $white;
}

.footer-logo-text {
  font-weight: 700;
  font-size: 1.125rem;
  color: $slate-900;
}

.footer-description {
  color: #64748b; // slate-500
  font-size: 0.875rem;
}

.footer-links {
  display: flex;
  gap: 1.5rem;
  font-size: 0.75rem;
  font-weight: 700;
  color: #94a3b8; // slate-400
}


// =================================================================================================
// Home - Hero Section
// =================================================================================================
.hero-section {
  position: relative;
  padding-top: 6rem;
  min-height: 100vh;
  display: flex;
  align-items: center;
  background-color: #F8FAFC;
  overflow: hidden;
}

.hero-container {
  width: 100%;
  max-width: 1600px;
  margin: 0 auto;
  padding: 0 1.5rem;
  display: grid;
  gap: 3rem;
  position: relative;
  z-index: 10;
  
  @include tablet {
    padding: 0 3rem;
  }
  
  @include desktop {
    padding: 0 4rem;
    grid-template-columns: repeat(12, minmax(0, 1fr));
  }
}

.hero-left-col {
  display: flex;
  flex-direction: column;
  justify-content: center;
  align-items: flex-start;
  text-align: left;
  padding-top: 2.5rem;
  
  @include desktop {
    grid-column: span 7 / span 7;
    padding-top: 0;
  }
}

.hero-badge {
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0.375rem 0.75rem;
  border-radius: 9999px;
  background-color: #eef2ff; // indigo-50
  color: #4338ca; // indigo-700
  font-size: 0.75rem;
  font-weight: 700;
  margin-bottom: 1.5rem;
  border: 1px solid #e0e7ff; // indigo-100
  animation: fadeInUp 0.5s ease-out;
}

.pulse-dot {
  width: 0.5rem;
  height: 0.5rem;
  border-radius: 9999px;
  background-color: #4f46e5; // indigo-600
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.hero-title {
  font-size: 2.25rem; // 4xl
  font-weight: 900;
  color: $slate-900;
  line-height: 1.15;
  margin-bottom: 1.5rem;
  letter-spacing: -0.025em;
  
  @include tablet {
    font-size: 3rem; // 5xl
  }
  
  @include desktop {
    font-size: 3.75rem; // 6xl
  }
}

.highlight {
  color: #4f46e5; // indigo-600
}

.hero-description {
  color: #64748b; // slate-500
  font-size: 1.125rem; // lg
  margin-bottom: 2rem;
  max-width: 42rem; // 2xl
  font-weight: 500;
  line-height: 1.625;
}

.search-wrapper {
  background-color: $white;
  padding: 0.5rem;
  border-radius: 2rem;
  box-shadow: 0 20px 60px -15px rgba(0,0,0,0.15);
  border: 2px solid #f1f5f9; // slate-100
  width: 100%;
  max-width: 42rem; // 2xl
  transform: translateY(0);
  transition: transform 0.3s;
  
  &:hover {
    transform: translateY(-0.25rem);
  }
}

.search-form {
  display: flex;
  align-items: center;
  padding: 0.75rem 1rem;
  background-color: #f8fafc; // slate-50
  border-radius: 1.5rem;
  border: 1px solid #e2e8f0; // slate-200
  transition: all 0.2s;
  cursor: text;
  height: 4rem;
  
  &:hover, &:focus-within {
    border-color: #a5b4fc; // indigo-300
    background-color: $white;
  }
}

.search-icon-wrapper {
  background-color: $white;
  padding: 0.625rem;
  border-radius: 9999px;
  color: #4f46e5; // indigo-600
  box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
  border: 1px solid #f1f5f9; // slate-100
  transition: color 0.2s;
  flex-shrink: 0;
}

.spin-anim {
    animation: spin 1s linear infinite;
}

.search-input {
  flex: 1;
  background-color: transparent;
  outline: none;
  font-weight: 700;
  margin-left: 1rem;
  font-size: 1rem;
  width: 100%;
  min-width: 0;
  color: $slate-900;
  border: none;
  
  &::placeholder {
    color: #94a3b8; // slate-400
  }
}

.submit-button {
  background-color: #4f46e5; // indigo-600
  color: $white;
  border-radius: 9999px;
  padding: 0.75rem;
  transition: all 0.2s;
  box-shadow: 0 10px 15px -3px rgba(199, 210, 254, 1), 0 4px 6px -2px rgba(199, 210, 254, 1); // shadow-indigo-200
  flex-shrink: 0;
  margin-left: 0.5rem;
  cursor: pointer;
  @include flex-center;
  
  &:hover {
    background-color: #4338ca; // indigo-700
    box-shadow: 0 10px 15px -3px rgba(165, 180, 252, 1), 0 4px 6px -2px rgba(165, 180, 252, 1); // shadow-indigo-300
  }
  
  &:active {
    transform: scale(0.95);
  }

  &:disabled {
    background-color: #818cf8; // indigo-400
  }
}

.hero-right-col {
  display: flex;
  align-items: center;
  justify-content: center;
  position: relative;
  
  @include desktop {
    grid-column: span 5 / span 5;
    justify-content: flex-end;
  }
}

.hero-image-wrapper {
  position: relative;
  width: 100%;
  max-width: 32rem; // lg
  aspect-ratio: 4/5;
  
  @include desktop {
    aspect-ratio: 3/4;
  }
}

.main-image-container {
  position: absolute;
  inset: 0;
  border-radius: 2.5rem;
  overflow: hidden;
  box-shadow: 0 30px 60px -15px rgba(0,0,0,0.3);
  border: 8px solid $white;
  transform: rotate(3deg);
  transition: transform 0.7s;
  z-index: 10;
  
  &:hover {
    transform: rotate(0);
    
    .main-image {
        transform: scale(1);
    }
  }
}

.main-image {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transform: scale(1.1);
  transition: transform 0.7s;
}

.hero-overlay {
  position: absolute;
  inset: 0;
  background: linear-gradient(to top, rgba(0,0,0,0.4), transparent, transparent);
}

.image-text {
  position: absolute;
  bottom: 2rem;
  left: 2rem;
  color: $white;
}

.must-visit-badge {
  padding: 0.25rem 0.75rem;
  border-radius: 9999px;
  background-color: rgba(255,255,255,0.2);
  backdrop-filter: blur(12px);
  border: 1px solid rgba(255,255,255,0.3);
  font-size: 0.75rem;
  font-weight: 700;
  margin-bottom: 0.5rem;
  display: inline-block;
}

.image-title {
  font-size: 1.875rem; // 3xl
  font-weight: 900;
}

.floating-card {
  position: absolute;
  background-color: $white;
  padding: 1rem;
  border-radius: 1rem;
  box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); // shadow-xl
  border: 1px solid #f1f5f9; // slate-100
  display: flex;
  align-items: center;
  gap: 0.75rem;
  animation: bounce 1s infinite;
  z-index: 20;
}

.weather-card {
    @extend .floating-card;
    left: -2rem;
    top: 5rem;
    animation-duration: 3s;
}

.booking-card {
    @extend .floating-card;
    right: -1rem;
    bottom: 5rem;
    background-color: rgba(255, 255, 255, 0.9);
    backdrop-filter: blur(4px);
    animation-duration: 4s;
    animation-delay: 1s;
}

.icon-box {
  padding: 0.625rem;
  border-radius: 9999px;
}

.orange-icon {
  background-color: #ffedd5; // orange-100
  color: #ea580c; // orange-600
}

.indigo-icon {
  background-color: #e0e7ff; // indigo-100
  color: #4f46e5; // indigo-600
}

.card-text-label {
  font-size: 0.75rem;
  color: #94a3b8; // slate-400
  font-weight: 700;
  text-transform: uppercase;
}

.card-text-value {
  font-size: 1rem;
  font-weight: 800;
  color: #1e293b; // slate-800;
}

@keyframes fadeInUp {
    from {
        opacity: 0;
        transform: translate3d(0, 100%, 0);
    }
    to {
        opacity: 1;
        transform: none;
    }
}


// =================================================================================================
// Home - Magzine Section
// =================================================================================================
.magzine-section {
    padding: 1.5rem 0;
}

.magzine-card {
    max-width: 80rem; // 7xl
    margin: 0 auto;
    overflow: hidden;
    border-radius: 1rem;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    position: relative;
    cursor: pointer;
    background-color: #e0e7ff; // indigo-100
    
    &:hover {
        .magzine-link {
            transform: translateX(0.25rem);
        }
        
        .magzine-bg-image {
            transform: scale(1.05);
        }
    }
}

.magzine-container {
    display: flex;
    flex-direction: column-reverse;
    height: auto;
    
    @include desktop {
        flex-direction: row;
        height: 280px;
    }
}

.magzine-content {
    flex: 1;
    padding: 1.5rem; // p-6
    display: flex;
    flex-direction: column;
    justify-content: center;
    position: relative;
    z-index: 10;
    
    @include desktop {
        padding: 2.5rem; // p-10
    }
}

.magzine-badge {
    display: inline-flex;
    align-items: center;
    gap: 0.375rem; // gap-1.5
    background-color: rgba(255, 255, 255, 0.8);
    backdrop-filter: blur(4px);
    width: fit-content;
    padding: 0.25rem 0.75rem; // px-3 py-1
    border-radius: 9999px;
    font-size: 0.75rem; // xs
    font-weight: 700;
    color: $primary-color;
    margin-bottom: 0.75rem; // mb-3
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
}

.magzine-title {
    font-size: 1.5rem; // 2xl
    font-weight: 900;
    color: #121217;
    margin-bottom: 0.75rem;
    line-height: 1.375;
    
    @include desktop {
        font-size: 1.875rem; // 3xl
    }
}

.magzine-description {
    color: #6a6783;
    font-size: 0.875rem; // sm
    font-weight: 500;
    margin-bottom: 1.5rem;
    
    @include desktop {
        font-size: 1rem; // base
    }
}

.magzine-link {
    font-size: 0.875rem; // sm
    font-weight: 700;
    color: $primary-color;
    display: flex;
    align-items: center;
    width: fit-content;
    transition: transform 0.15s;
}

.magzine-image-section {
    flex: 1;
    position: relative;
    min-height: 200px;
    overflow: hidden;
    
    @include desktop {
        min-height: auto;
    }
}

.magzine-circle {
    position: absolute;
    top: -20%;
    right: -10%;
    width: 10rem;
    height: 10rem;
    background-color: rgba(255, 255, 255, 0.2);
    border-radius: 9999px;
    filter: blur(40px);
    z-index: 0;
}

.magzine-bg-image {
    width: 100%;
    height: 100%;
    background-size: cover;
    background-position: center;
    transition: transform 0.7s;
}

.magzine-gradient-overlay {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, #e0e7ff, transparent, transparent);
    opacity: 0.8;
    
    @include desktop {
        background: linear-gradient(to left, #e0e7ff, transparent, transparent);
    }
}


// =================================================================================================
// Home - Popular Destinations (Global)
// =================================================================================================
.popular-destinations-section {
    padding: 3rem 1.25rem; // py-12 px-5
    background-color: $white;
    width: 100%;
    
    @include tablet {
        padding-left: 0;
        padding-right: 0;
    }
}

.popular-container {
    max-width: 80rem; // 7xl
    margin: 0 auto;
}

.popular-header {
    margin-bottom: 1.25rem;
}

.popular-title {
    font-size: 1.25rem; // xl
    font-weight: 900;
    color: $slate-900;
    margin-bottom: 2.5rem; // mb-10
    
    @include tablet {
        font-size: 1.5rem; // 2xl
    }
}

.popular-grid {
    display: grid;
    grid-template-columns: repeat(1, minmax(0, 1fr));
    gap: 2rem;
    
    @include tablet { // sm but tailwind sm is 640px, tablet mixin also 768px.
        grid-template-columns: repeat(2, minmax(0, 1fr));
    }
    
    @include desktop {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
}

.popular-card {
    background-color: $white;
    border-radius: 2rem;
    overflow: hidden;
    border: 2px solid #f1f5f9; // slate-100
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    transition: all 0.3s;
    cursor: pointer;
    display: flex;
    flex-direction: column;
    
    &:hover {
        border-color: #e0e7ff; // indigo-100
        box-shadow: 0 20px 40px -10px rgba(79, 70, 229, 0.15);
        transform: translateY(-0.5rem);

        .popular-image {
            transform: scale(1.1);
        }

        .popular-tag {
            border-color: #e0e7ff; // indigo-100
            color: #4f46e5; // indigo-600
            background-color: #eef2ff; // indigo-50
        }
    }
}

.popular-image-wrapper {
    position: relative;
    aspect-ratio: 4/3;
    overflow: hidden;
    background-color: #f1f5f9; // slate-100
}

.popular-image {
    width: 100%;
    height: 100%;
    object-fit: cover;
    transition: transform 0.7s;
}

.popular-gradient {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.5), transparent, transparent);
    opacity: 0.6;
}

.popular-content {
    padding: 1.5rem; // p-6
    display: flex;
    flex-direction: column;
    flex: 1;
}

.popular-card-title {
    font-size: 1.5rem; // 2xl
    font-weight: 900;
    color: $slate-900;
    line-height: 1;
    margin-bottom: 0.5rem;
}

.popular-card-desc {
    font-size: 0.875rem; // sm
    color: #64748b; // slate-500
    font-weight: 500;
    margin-bottom: 1.5rem;
    line-height: 1.625;
    
    // line-clamp-2
    display: -webkit-box;
    -webkit-line-clamp: 2;
    line-clamp: 2;
    -webkit-box-orient: vertical;
    overflow: hidden;
}

.popular-tag-container {
    margin-top: auto;
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}


// =================================================================================================
// Home - Travel Categories (Global)
// =================================================================================================
.travel-categories-section {
    padding: 3rem 1.25rem; // py-12 px-5
    
    @include tablet {
        padding-left: 0;
        padding-right: 0;
    }
}

.categories-container {
    max-width: 80rem; // 7xl
    margin: 0 auto;
}

.categories-title {
    font-size: 1.25rem; // xl
    font-weight: 900;
    color: $slate-900;
    margin-bottom: 1.25rem; // mb-5
    
    @include tablet {
        font-size: 1.5rem; // 2xl
    }
}

.categories-grid {
    display: grid;
    grid-template-columns: repeat(2, minmax(0, 1fr));
    gap: 1rem;
    
    @include tablet {
        grid-template-columns: repeat(4, minmax(0, 1fr));
    }
    
    @include desktop {
        grid-template-columns: repeat(8, minmax(0, 1fr));
    }
}

.category-card {
    position: relative;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center;
    gap: 1rem;
    padding: 1.5rem;
    border-radius: 1rem; // rounded-2xl
    transition: all 0.3s;
    background-color: $white;
    border: 2px solid #e2e8f0; // slate-200
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    cursor: pointer;
    
    &:hover {
        background-color: #4f46e5; // indigo-600
        border-color: #4f46e5;
        box-shadow: 0 20px 25px -5px rgba(199, 210, 254, 1), 0 8px 10px -6px rgba(199, 210, 254, 1); // shadow-indigo-200 approx
        transform: translateY(-0.5rem);

        .category-icon-wrapper {
            background-color: rgba(255, 255, 255, 0.2);
            color: $white;
        }

        .category-label {
            color: $white;
        }
    }
}

.category-icon-wrapper {
    padding: 0.875rem; // p-3.5
    border-radius: 9999px;
    background-color: #f1f5f9; // slate-100
    color: #475569; // slate-600
    transition: background-color 0.3s, color 0.3s;
}


// =================================================================================================
// Planner - Date Editor
// =================================================================================================
.date-editor-container {
    background-color: $white;
    border-radius: 1.5rem; // 3xl
    width: 100%;
    padding: 1.5rem; // p-6
    overflow: hidden;
    
    &.is-modal {
        box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25); // shadow-2xl
        max-width: 28rem; // max-w-md
        margin: 1rem;
    }
}

.date-editor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1.5rem; // mb-6
}

.date-editor-title {
    font-size: 1.25rem; // xl
    font-weight: 700;
    color: $slate-900;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.date-editor-close-btn {
    padding: 0.5rem;
    border-radius: 9999px;
    color: #94a3b8; // slate-400
    transition: color 0.15s, background-color 0.15s;
    
    &:hover {
        background-color: #f1f5f9; // slate-100
        color: #475569; // slate-600
    }
}

.calendar-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 1rem; // mb-4
    padding: 0 0.5rem;
}

.calendar-control-btn {
    padding: 0.25rem;
    border-radius: 9999px;
    color: #475569; // slate-600
    
    &:hover {
        background-color: #f1f5f9; // slate-100
    }
}

.current-month {
    font-size: 1.125rem; // lg
    font-weight: 700;
    color: #1e293b; // slate-800
}

.week-days-grid {
    display: grid;
    grid-template-columns: repeat(7, minmax(0, 1fr));
    margin-bottom: 0.5rem;
    text-align: center;
}

.week-day-label {
    font-size: 0.75rem; // xs
    font-weight: 500;
    color: #94a3b8; // slate-400
    text-transform: uppercase;
    letter-spacing: 0.05em;
    padding: 0.25rem 0;
}

.days-grid {
    display: grid;
    grid-template-columns: repeat(7, minmax(0, 1fr));
    row-gap: 0.25rem;
    margin-bottom: 1.5rem;
}

.empty-day {
    height: 2.5rem; // h-10
    width: 2.5rem; // w-10
}

.day-wrapper {
    display: flex;
    align-items: center;
    justify-content: center;
}

.day-button {
    height: 2.5rem; // h-10
    width: 2.5rem; // w-10
    @include flex-center;
    font-size: 0.875rem; // sm
    border-radius: 9999px;
    transition: all 0.15s;
    cursor: pointer;
    background-color: transparent;
    border: none;
    
    &:hover {
        background-color: #eef2ff; // indigo-50
    }
    
    &.day-selected {
        background-color: #4f46e5; // indigo-600
        color: $white;
        font-weight: 700;
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
        transform: scale(1.05);
    }
    
    &.day-range {
        background-color: #e0e7ff; // indigo-100
        color: #4338ca; // indigo-700
        border-radius: 0;
    }
    
    &.day-normal {
        color: #334155; // slate-700
    }
}

.selected-display {
    background-color: #f8fafc; // slate-50
    border-radius: 0.75rem; // xl
    padding: 1rem;
    margin-bottom: 1.5rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border: 1px solid #f1f5f9; // slate-100
}

.date-box {
    text-align: center;
    width: 50%;
    
    &.with-border {
        border-right: 1px solid #e2e8f0; // slate-200
    }
}

.date-label {
    font-size: 0.75rem; // xs
    color: #94a3b8; // slate-400
    margin-bottom: 0.25rem;
}

.date-value {
    font-weight: 700;
    color: #4f46e5; // indigo-600
}

.date-save-button {
    width: 100%;
    background-color: #4f46e5; // indigo-600
    cursor: pointer;
    color: $white;
    font-weight: 700;
    padding: 1rem;
    border-radius: 0.75rem; // xl
    transition: all 0.15s;
    box-shadow: 0 10px 15px -3px rgba(199, 210, 254, 1), 0 4px 6px -2px rgba(199, 210, 254, 1); // shadow-indigo-200
    border: none;
    
    &:hover {
        background-color: #4338ca; // indigo-700
    }
    
    &:active {
        transform: scale(0.95);
    }
}


// =================================================================================================
// Planner - Day Items (Main Card)
// =================================================================================================
.day-item-container {
    min-width: 90%;
    position: relative;
    margin-bottom: 0;
    transition: opacity 0.2s;
    
    &.day-dragging {
        opacity: 0.8;
        z-index: 50;
    }
}

.day-item-inner {
    position: relative;
    display: flex;
    gap: 0.75rem; // gap-3
    
    @include tablet { // md:
        gap: 1.25rem; // gap-5
    }
}

// Card styles
.day-card {
    flex: 1;
    background-color: $white;
    padding: 1rem;
    border-radius: 1rem; // 2xl
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    border: 1px solid #f3f4f6; // gray-100
    transition: all 0.3s;
    position: relative;
    cursor: pointer;
    overflow: hidden;
    
    &:hover {
        border-color: #a5b4fc; // indigo-300
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); // shadow-md
    }
    
    &.day-selected {
        border-color: #4338CA;
        box-shadow: 0 0 0 1px #4338CA; // ring-1
    }
    
    &.day-rain-risk {
        border-left: 4px solid #ef4444; // red-500
    }
}

// Extended details
.day-extended-container {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid #f3f4f6; // gray-100
    display: grid;
    grid-template-columns: repeat(1, minmax(0, 1fr));
    gap: 0.75rem;
}

.day-duration-box {
    display: flex;
    justify-content: space-between;
    align-items: center;
    font-size: 0.875rem;
    color: #6b7280; // gray-500
    background-color: #f9fafb; // gray-50
    border-radius: 0.5rem;
    padding: 0.75rem;
}

.day-duration-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.day-duration-time {
    color: #1f2937; // gray-800
}

.day-detail-button {
    margin-left: auto;
    font-size: 0.75rem; // xs
    background-color: $white;
    border: 1px solid #e5e7eb; // gray-200
    padding: 0.375rem 0.75rem;
    border-radius: 9999px;
    font-weight: 700;
    color: #4f46e5; // indigo-600
    transition: background-color 0.15s;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    cursor: pointer;

    &:hover {
        background-color: #eef2ff; // indigo-50
        border-color: #c7d2fe; // indigo-200
    }
}

.day-highlights {
    font-size: 0.75rem; // xs
    color: #9ca3af; // gray-400
    padding: 0 0.25rem;
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.day-booking-container {
    margin-top: 0.5rem;
    padding-top: 0.75rem;
    border-top: 1px solid #f3f4f6; // gray-100
}

.day-booking-title {
    font-size: 0.75rem; // xs
    font-weight: 700;
    color: #6b7280; // gray-500
    margin-bottom: 0.5rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.day-booking-grid {
    display: grid;
    grid-template-columns: repeat(4, minmax(0, 1fr));
    gap: 0.375rem;
}


// =================================================================================================
// Planner - Day Items Parts (Marker, ActionMenu, ContentBody, TravelTime)
// =================================================================================================

// --- Marker ---
.day-marker {
    width: 1.75rem; // w-7
    height: 1.75rem; // h-7
    border-radius: 9999px; // rounded-full
    border-width: 3px;
    font-weight: 700; // font-bold
    font-size: 0.625rem; // text-[10px]
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 10;
    flex-shrink: 0;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    margin-top: 0.25rem; // mt-1
    transition-property: all;
    transition-duration: 300ms;
    position: relative;
    cursor: pointer;

    @include mobile {
        width: 2.25rem; // md:w-9
        height: 2.25rem; // md:h-9
        font-size: 0.75rem; // md:text-xs
    }

    &.day-marker-selected {
        background-color: $primary-color; // bg-[#4338CA]
        border-color: #ffffff;
        color: #ffffff;
        box-shadow: 0 0 0 4px #eef2ff;
        transform: scale(1.1);
    }

    &.day-marker-normal {
        background-color: #ffffff;
        border-color: #e0e7ff; // border-indigo-100
        color: #9ca3af; // text-gray-400

        &:hover {
            border-color: $primary-color;
            color: $primary-color;
        }
    }
}

// --- ActionMenu ---
.day-action-lock-btn {
    position: absolute;
    top: 1rem; // top-4
    right: 2.5rem; // right-10
    width: auto;
    height: auto;
    border-radius: 9999px;
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
    z-index: 20;

    &.active {
        color: $primary-color; // text-[#4338CA]
        opacity: 1;
    }
}

.day-action-menu-wrapper {
    position: absolute;
    top: 0.75rem; // top-3
    right: 0.75rem; // right-3
    z-index: 30;
}

.day-action-menu-trigger {
    padding: 0.25rem 0.5rem; // p-1 px-2
    color: #d1d5db; // text-gray-300
    border-radius: 0.25rem; // rounded
    transition-property: color, background-color, border-color, text-decoration-color, fill, stroke;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;

    &:hover {
        color: #4b5563; // hover:text-gray-600
    }
}

.day-action-dropdown {
    position: absolute;
    top: 1.5rem; // top-6
    right: 0;
    background-color: #ffffff;
    border-radius: 0.75rem; // rounded-xl
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); // shadow-xl
    border: 1px solid #f3f4f6; // border-gray-100
    padding-top: 0.25rem;
    padding-bottom: 0.25rem;
    min-width: 140px;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    animation: fadeIn 0.15s ease-in-out; // animate-fade-in
    z-index: 50;
    font-size: 0.875rem; // text-sm
}

.day-action-menu-header {
    display: flex;
    justify-content: space-between;
    padding: 0.5rem 0.75rem; // px-3 py-2
    border-bottom: 1px solid #f9fafb; // border-gray-50
    font-size: 0.75rem; // text-xs
    color: #9ca3af; // text-gray-400
    font-weight: 700; // font-bold
}

.day-action-menu-item {
    text-align: left;
    padding: 0.75rem 1rem; // px-4 py-3
    display: flex;
    align-items: center;
    gap: 0.5rem;

    &:hover {
        background-color: #f9fafb; // hover:bg-gray-50
    }
    
    &.delete-item {
        color: #ef4444; // text-red-500
        border-top: 1px solid #f9fafb; // border-gray-50

        &:hover {
            background-color: #fef2f2; // hover:bg-red-50
        }
    }
}

// --- ContentBody ---
.day-content-body {
    flex: 1 1 0%;
}

.day-meta-row {
    display: flex;
    align-items: center;
    gap: 0.5rem; // gap-2
    margin-bottom: 0.75rem; // mb-3
}

.day-time-badge {
    font-size: 0.75rem; // text-xs
    font-weight: 700; // font-bold
    padding: 0.125rem 0.5rem; // px-2 py-0.5
    border-radius: 0.25rem; // rounded
    color: #1f2937; // text-gray-800
    background-color: #f3f4f6; // bg-gray-100

    @include mobile {
        font-size: 0.875rem; // md:text-sm
    }
}

.day-external-badge {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.625rem; // text-[10px]
    font-weight: 700;
    color: #6b7280; // text-gray-500
    background-color: #f3f4f6;
    padding: 0.125rem 0.375rem;
    border-radius: 0.25rem;
    border: 1px solid #e5e7eb; // border-gray-200
}

.day-rain-badge {
    background-color: #fee2e2; // bg-red-100 (bg-alert)
    color: #b91c1c; // text-red-700 (text-alertText)
    padding: 0.375rem 0.75rem; // px-3 py-1.5
    border-radius: 9999px;
    font-size: 0.75rem; // text-xs
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.375rem;
    animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

.day-info-row {
    display: flex;
    gap: 0.75rem; // gap-3

    @include mobile {
        gap: 1rem; // md:gap-4
    }
}

.day-category-icon {
    width: 2.5rem; // w-10
    height: 2.5rem; // h-10
    border-radius: 1rem; // rounded-2xl
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.125rem; // text-lg
    flex-shrink: 0;

    @include mobile {
        width: 3rem; // md:w-12
        height: 3rem; // md:h-12
        font-size: 1.25rem; // md:text-xl
    }
}

.day-text-container {
    flex: 1 1 0%;
    padding-right: 1.5rem; // pr-6
}

.day-title {
    font-size: 0.9375rem; // text-[15px]
    font-weight: 700;
    color: #1f2937; // text-gray-800
    line-height: 1.25;
    margin-bottom: 0.25rem; // mb-1
    display: flex;
    gap: 0.25rem;
    align-items: flex-end;

    @include mobile {
        font-size: 1.125rem; // md:text-lg
    }
}

.day-indoor-label {
    font-size: 0.75rem; // text-xs
    font-weight: 400; // font-normal

    &.indoor {
        color: #3b82f6; // text-blue-500
    }
    
    &.outdoor {
        color: #16a34a; // text-green-600
    }
}

.day-content-highlights {
    font-size: 0.75rem; // text-xs
    color: #9ca3af; // text-gray-400
    font-weight: 500;
    @include text-line-clamp(1);
}

.day-plan-b-btn {
    width: 100%;
    margin-top: 0.75rem; // mt-3
    padding: 0.625rem 0; // py-2.5
    border-radius: 0.75rem; // rounded-xl
    background-color: #eef2ff; // bg-indigo-50
    color: $primary-color; // text-[#4338CA]
    font-size: 0.75rem; // text-xs
    font-weight: 700;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    transition-property: all;
    transition-duration: 300ms;
    border: 1px solid #e0e7ff; // border-indigo-100
    position: relative;
    overflow: hidden;

    @include mobile {
        margin-top: 1rem; // md:mt-4
        padding: 0.875rem 0; // md:py-3.5
        font-size: 0.875rem; // md:text-sm
    }

    &:hover {
        background-color: #e0e7ff; // hover:bg-indigo-100
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06); // hover:shadow-md
        
        .day-btn-overlay {
            opacity: 1;
        }
    }
}

.day-btn-overlay {
    position: absolute;
    inset: 0;
    background-color: rgba(255, 255, 255, 0.5);
    opacity: 0;
    transition-property: opacity;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
}

// Icon Colors
.icon-sightseeing-indoor { background-color: #eef2ff; color: #4f46e5; }
.icon-sightseeing-outdoor { background-color: #f0fdf4; color: #16a34a; }
.icon-food { background-color: #fff7ed; color: #ea580c; }
.icon-cafe { background-color: #fffbeb; color: #d97706; }
.icon-move { background-color: #eff6ff; color: #2563eb; }
.icon-stay { background-color: #164e63; color: #ecfeff; }
.icon-default { background-color: #f9fafb; color: #4b5563; }


// --- TravelTime ---
.travel-time-container {
    display: flex;
    align-items: center;
    gap: 0.75rem; // gap-3
    z-index: 0;
    padding-left: 2rem; // pl-8
    opacity: 0.7;
    display: flex;
    align-items: center;
    justify-content: flex-start;

    @include mobile {
        margin-bottom: 1.25rem; // md:mb-5
        margin-top: 1.25rem; // md:mt-5
        padding-left: 2.5rem; // md:pl-10
    }
}

.travel-time-badge {
    font-size: 0.625rem; // text-[10px]
    font-weight: 700;
    color: #6b7280; // text-gray-500
    background-color: #ffffff;
    border: 1px solid #e5e7eb; // border-gray-200
    padding: 0.25rem 0.5rem; // px-2 py-1
    border-radius: 9999px;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    display: flex;
    align-items: center;
    gap: 0.375rem;
    z-index: 11;

    @include mobile {
        font-size: 0.875rem; // md:text-[14px]
        padding: 0.375rem 0.75rem; // md:px-3 md:py-1.5
    }
}

.add-stop-button {
    position: absolute;
    left: 10rem; // left-40
    width: 1.5rem; // w-6
    height: 1.5rem; // h-6
    background-color: #ffffff;
    border: 1px solid #e5e7eb; // border-gray-200
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #9ca3af; // text-gray-400
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    transition-property: all;
    transition-timing-function: cubic-bezier(0.4, 0, 0.2, 1);
    transition-duration: 150ms;
    transform: translate(0, 0); // for active scale
    z-index: 10;

    @include mobile {
        left: 12.5rem; // md:left-50 
        width: 1.75rem; // md:w-7
        height: 1.75rem; // md:h-7
    }

    &:hover {
        border-color: $primary-color; // hover:border-[#4338CA]
        background-color: $primary-color; 
        color: #ffffff;
        transform: scale(1.05);
    }

    &:active {
        transform: scale(0.95);
    }
}

// =================================================================================================
// Planner - Place Replacement Modal
// =================================================================================================
.place-replacement-modal-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
    animation: fadeIn 0.2s ease-out;
}

.place-replacement-modal-content {
    position: relative;
    width: 90%;
    max-width: 500px;
    background-color: $white;
    border-radius: 16px;
    box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
    display: flex;
    flex-direction: column;
    max-height: 85vh;
    animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

.place-replacement-modal-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 20px 24px;
    border-bottom: 1px solid $border-color;

    h3 {
        font-size: 1.125rem;
        font-weight: 700;
        color: $text-primary;
        margin-bottom: 4px;
    }

    p {
        font-size: 0.875rem;
        color: $text-secondary;
    }
}

.place-replacement-modal-close-btn {
    @include icon-button;
}

.place-replacement-modal-body {
    flex: 1;
    overflow-y: auto;
    padding: 0;
    display: flex;
    flex-direction: column;
}

.place-replacement-modal-search-bar {
    padding: 16px 24px;
    border-bottom: 1px solid $border-color;
    display: flex;
    gap: 12px;
    align-items: center;
    background-color: #fafafa;

    input {
        flex: 1;
        border: none;
        background: transparent;
        font-size: 1rem;
        outline: none;
        
        &::placeholder {
            color: $text-muted;
        }
    }
}

.place-replacement-modal-categories {
    display: flex;
    gap: 8px;
    padding: 12px 24px;
    overflow-x: auto;
    @include no-scrollbar;
    border-bottom: 1px solid $border-color;
}

.place-replacement-modal-category-btn {
    white-space: nowrap;
    padding: 6px 14px;
    border-radius: 20px;
    font-size: 0.875rem;
    font-weight: 500;
    color: $text-secondary;
    background-color: $background-light;
    border: 1px solid transparent;
    transition: all 0.2s;

    &.active {
        background-color: $primary-color;
        color: $white;
    }

    &:hover:not(.active) {
        background-color: #e5e7eb;
    }
}

.place-replacement-modal-results {
    flex: 1;
    padding: 16px 24px;
    overflow-y: auto;
}

.place-replacement-modal-card {
    display: flex;
    gap: 16px;
    padding: 12px;
    border-radius: 12px;
    border: 1px solid $border-color;
    margin-bottom: 12px;
    cursor: pointer;
    transition: all 0.2s;

    &:hover {
        border-color: $primary-color;
        background-color: #f5f7ff;
    }

    &.selected {
        border-color: $primary-color;
        background-color: #eef2ff;
        box-shadow: 0 0 0 1px $primary-color inset;
    }
}

.place-replacement-modal-card-image {
    width: 60px;
    height: 60px;
    border-radius: 8px;
    background-color: #e0e7ff;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
}

.place-replacement-modal-card-content {
    flex: 1;
    min-width: 0;

    h4 {
        font-weight: 600;
        color: $text-primary;
        margin-bottom: 4px;
        white-space: nowrap;
        overflow: hidden;
        text-overflow: ellipsis;

        &.active {
            color: $primary-color;
        }
    }
}

.place-replacement-modal-card-meta {
    display: flex;
    align-items: center;
    gap: 6px;
    font-size: 0.75rem;
    color: $text-secondary;
    margin-bottom: 4px;

    .dot {
        width: 3px;
        height: 3px;
        border-radius: 50%;
        background-color: $text-muted;
    }

    .rating {
        display: flex;
        align-items: center;
        gap: 2px;
        color: #f59e0b;
        font-weight: 600;
    }
}

.place-replacement-modal-address {
    // renamed from addressRow for clarity
    display: flex;
    align-items: center;
    gap: 4px;
    font-size: 0.75rem;
    color: $text-muted;
}

.place-replacement-modal-check-icon {
    display: flex;
    align-items: center;
    justify-content: center;
    color: $primary-color;
}

.place-replacement-modal-footer {
    padding: 16px 24px;
    border-top: 1px solid $border-color;
    display: flex;
    justify-content: flex-end;
    gap: 12px;
}

.place-replacement-modal-btn-cancel {
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    color: $text-secondary;
    background-color: transparent;
    
    &:hover { background-color: $background-light; }
}

.place-replacement-modal-btn-confirm {
    padding: 10px 20px;
    border-radius: 8px;
    font-weight: 600;
    color: $white;
    background-color: $primary-color;
    box-shadow: 0 4px 6px rgba(67, 56, 202, 0.2);
    
    &:disabled {
        background-color: #a5b4fc;
        cursor: not-allowed;
        box-shadow: none;
    }

    &:hover:not(:disabled) {
        background-color: #3730a3;
    }
}

// =================================================================================================
// Planner - Smart Mix Modal
// =================================================================================================
.smart-mix-modal-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.6);
    backdrop-filter: blur(8px);
    animation: fadeIn 0.3s ease-out;
}

.smart-mix-modal-content {
    position: relative;
    width: 90%;
    max-width: 420px;
    background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
    border-radius: 24px;
    box-shadow: 0 20px 40px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.5) inset;
    padding: 32px;
    text-align: center;
    animation: zoomIn 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
}

.smart-mix-modal-header {
    margin-bottom: 32px;
    
    .bg-icon {
        width: 80px;
        height: 80px;
        background: linear-gradient(135deg, #fef3c7 0%, #fffbeb 100%);
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 20px;
        color: #d97706;
        box-shadow: 0 10px 20px rgba(251, 191, 36, 0.2);
    }

    h3 {
        font-size: 1.5rem;
        font-weight: 800;
        color: $text-primary;
        margin-bottom: 8px;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
    }

    p {
        color: $text-secondary;
        font-size: 0.95rem;
    }
}

.smart-mix-modal-stepper {
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 32px;
    gap: 12px;

    .step {
        display: flex;
        flex-direction: column;
        align-items: center;
        gap: 6px;
        opacity: 0.5;
        transition: all 0.3s;

        &.active {
            opacity: 1;
            transform: scale(1.05);
            
            .circle {
                background-color: $text-primary;
                color: $white;
                border-color: $text-primary;
            }
            
            span { font-weight: 700; color: $text-primary; }
        }
    }

    .circle {
        width: 28px;
        height: 28px;
        border-radius: 50%;
        border: 2px solid $text-muted;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: 700;
        font-size: 0.8rem;
    }

    .line {
        width: 40px;
        height: 2px;
        background-color: $border-color;
        margin-top: -20px;
    }
}

.smart-mix-modal-step-content {
    animation: fadeIn 0.3s ease-out;

    h3 {
        font-size: 1.125rem;
        font-weight: 700;
        color: $text-primary;
        margin-bottom: 20px;
    }
}

.smart-mix-modal-btn-all {
        width: 100%;
        padding: 20px;
        border-radius: 16px;
        background-color: $white;
        border: 2px solid $border-color;
        cursor: pointer;
        transition: all 0.2s;

        &:hover {
            border-color: $primary-color;
            background-color: #f5f7ff;
        }

        &.selected {
            border-color: $primary-color;
            background-color: #eef2ff;
            box-shadow: 0 0 0 2px $primary-color inset;
        }
}

.smart-mix-modal-btn-confirm {
    width: 100%;
    padding: 16px;
    border-radius: 16px;
    background: linear-gradient(135deg, $primary-color 0%, #4f46e5 100%);
    color: $white;
    font-weight: 700;
    font-size: 1.1rem;
    margin-top: 32px;
    box-shadow: 0 10px 20px rgba(67, 56, 202, 0.3);
    
    &:hover {
        transform: translateY(-2px);
        box-shadow: 0 15px 30px rgba(67, 56, 202, 0.4);
    }
    
    &:active {
        transform: translateY(0);
    }

    &:disabled {
        opacity: 0.5;
        cursor: not-allowed;
        transform: none;
        box-shadow: none;
    }
}

.smart-mix-modal-footer {
    padding: 24px 32px;
    border-top: 1px solid $border-color;
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin: 32px -32px -32px -32px; // Expand to full width relative to padding, added top margin
    border-radius: 0 0 24px 24px;
    background-color: #f8fafc;
}

.smart-mix-modal-btn-cancel {
    padding: 12px 24px;
    border-radius: 12px;
    font-weight: 600;
    color: $text-secondary;
    background-color: transparent;
    transition: all 0.2s;
    
    &:hover {
        background-color: rgba(0, 0, 0, 0.05);
        color: $text-primary;
    }
}

// =================================================================================================
// Planner - Plan B Modal
// =================================================================================================
.plan-b-modal-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.5);
}

.plan-b-modal-content {
    position: relative;
    width: 90%;
    max-width: 480px;
    background-color: $white;
    border-radius: 12px;
    padding: 24px;
    box-shadow: 0 10px 25px rgba(0,0,0,0.15);
    display: flex;
    flex-direction: column;
    max-height: 80vh;
}

.plan-b-header {
    text-align: center;
    border-bottom: 1px solid $border-color;
    padding-bottom: 16px;
    margin-bottom: 16px;

    .icon-wrapper {
        width: 48px;
        height: 48px;
        background-color: #dbeafe; // blue-100
        color: #3b82f6; // blue-500
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        margin: 0 auto 8px;
    }

    h3 {
        font-size: 1.25rem;
        font-weight: 700;
        color: $text-primary;
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 8px;
        margin-bottom: 4px;
    }

    p {
        font-size: 0.875rem;
        color: $text-secondary;
    }
}

.plan-b-modal-close-btn {
    position: absolute;
    top: 16px;
    right: 16px;
    color: $text-muted;
    &:hover { color: $text-primary; }
}

.plan-b-body {
    overflow-y: auto;
    flex: 1;

    .empty-state {
        text-align: center;
        color: $text-muted;
        padding: 32px 0;
        font-size: 1.125rem;
    }
}

.plan-b-risk-item {
    margin-bottom: 24px;
    &:last-child { margin-bottom: 0; }

    h4 {
        font-size: 1rem;
        font-weight: 600;
        color: $text-primary;
        margin-bottom: 12px;
        display: flex;
        align-items: center;
        
        &::before {
            content: '';
            display: inline-block;
            width: 8px;
            height: 8px;
            background-color: #60a5fa; // blue-400
            border-radius: 50%;
            margin-right: 8px;
        }
    }
}

.plan-b-card {
    display: flex;
    gap: 12px;
    padding: 12px;
    border: 1px solid $border-color;
    border-radius: 8px;
    background-color: $white;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);
    margin-bottom: 8px;
}

.plan-b-card-image {
    width: 64px;
    height: 64px;
    border-radius: 6px;
    background-color: $background-light;
    flex-shrink: 0;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    
    img { width: 100%; height: 100%; object-fit: cover; }
}

.plan-b-card-content {
    flex: 1;
    min-width: 0;
    
    h5 {
        font-size: 1rem;
        font-weight: 600;
        color: $text-primary;
        margin-bottom: 2px;
    }
    
    p {
        font-size: 0.875rem;
        color: $text-secondary;
    }
    
    span {
        font-size: 0.75rem;
        color: $text-muted;
    }
}

// =================================================================================================
// Planner - Mobile Map Modal
// =================================================================================================
.mobile-map-modal-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    background-color: $white;
    display: flex;
    flex-direction: column;
}

.mobile-map-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    padding: 16px;
    border-bottom: 1px solid $border-color;
    box-shadow: 0 1px 2px rgba(0,0,0,0.05);

    h3 {
        font-size: 1.125rem;
        font-weight: 600;
        color: $text-primary;
        display: flex;
        align-items: center;
        gap: 8px;
    }
}

.mobile-map-body {
    flex: 1;
    position: relative;
    width: 100%;
    height: 100%;
}

// =================================================================================================
// Planner - Date Editor
// =================================================================================================
.date-editor-overlay {
    position: fixed;
    inset: 0;
    z-index: 9999;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: rgba(0, 0, 0, 0.5);
    backdrop-filter: blur(4px);
}

.date-editor-container {
    background-color: $white;
    // Default styles for inline usage
    
    &.is-modal {
        width: 100%;
        max-width: 360px;
        border-radius: 16px;
        box-shadow: 0 10px 25px rgba(0, 0, 0, 0.2);
        padding: 24px;
        background-color: $white;
    }
}

.date-editor-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 20px;
}

.date-editor-title {
    display: flex;
    align-items: center;
    gap: 8px;
    font-size: 1.125rem;
    font-weight: 700;
    color: $text-primary;
}

.date-editor-close-btn {
    @include icon-button;
}

.calendar-controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 16px;
}

.calendar-control-btn {
    @include icon-button;
}

.current-month {
    font-size: 1rem;
    font-weight: 600;
    color: $text-primary;
}

.week-days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    margin-bottom: 8px;
}

.week-day-label {
    text-align: center;
    font-size: 0.875rem;
    color: $text-secondary;
    padding: 8px 0;
}

.days-grid {
    display: grid;
    grid-template-columns: repeat(7, 1fr);
    row-gap: 8px;
    margin-bottom: 24px;
}

.empty-day {
    height: 40px;
}

.day-wrapper {
    display: flex;
    justify-content: center;
}

.day-button {
    width: 40px;
    height: 40px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 0.9rem;
    transition: all 0.2s;
    
    &.day-normal {
        color: $text-primary;
        &:hover { background-color: $background-light; }
    }

    &.day-selected {
        background-color: $primary-color;
        color: $white;
        font-weight: 600;
    }

    &.day-range {
        background-color: #e0e7ff;
        color: $primary-color;
    }
}

.selected-display {
    display: flex;
    border: 1px solid $border-color;
    border-radius: 12px;
    overflow: hidden;
    margin-bottom: 20px;
}

.date-box {
    flex: 1;
    padding: 12px;
    text-align: center;
    
    &.with-border {
        border-right: 1px solid $border-color;
    }
}

.date-label {
    font-size: 0.75rem;
    color: $text-muted;
    margin-bottom: 4px;
}

.date-value {
    font-size: 1rem;
    font-weight: 600;
    color: $text-primary;
}

// =================================================================================================
// Planner - Main Layout
// =================================================================================================
.planner-page {
    display: flex;
    flex-direction: column;
    height: 100vh;
    overflow: hidden;
    background-color: $bg-color;
}

.plannerPageContainer {
    flex: 1;
    display: flex;
    flex-direction: column;
    overflow: hidden;
}

.mainContent {
    flex: 1;
    display: flex;
    overflow: hidden;
}

// =================================================================================================
// Planner - PlannerTimeline
// =================================================================================================
.planner-timeline-panel {
    width: 100%;
    height: 100%;
    display: flex;
    flex-direction: column;
    background-color: $bg-color; // #F8FAFC
    border-right: 1px solid $border-color;
    position: relative;
    z-index: 10;
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04);
    flex-shrink: 0;

    @include desktop {
        width: 480px;
    }
    
    @media (min-width: 1280px) {
        width: 540px;
    }
}

.mobile-map-preview {
    width: 100%;
    height: 200px;
    flex-shrink: 0;
    position: relative;
    background-color: #f3f4f6;
    
    @include desktop {
        display: none;
    }
}

.mobile-map-btn {
    position: absolute;
    bottom: 0.5rem;
    right: 0.5rem;
    background-color: rgba(255, 255, 255, 0.9);
    padding: 0.5rem;
    border-radius: 0.5rem;
    font-size: 0.75rem;
    font-weight: 700;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    z-index: 10;
}

.timeline-list-area {
    flex: 1;
    overflow-y: auto;
    padding: 1rem;
    position: relative;
    background-color: $bg-color;

    @include mobile {
        padding-bottom: 2.5rem; 
    }
    
     @include tablet {
        padding: 1.5rem;
    }
}

.timeline-vertical-line {
    position: absolute;
    top: 3px;
    width: 3px; 
    background-color: $indigo-50;
    height: calc(100% - 3px);
    left: 1rem; // (padding 1rem + marker half 1.125rem)
    z-index: 1;
    
    @include tablet {
        left: 2.75rem; // (padding 1.5rem + marker half 1.25rem)
    }
}

.add-schedule-btn {
    width: 100%;
    padding: 1.25rem;
    border: 2px dashed $slate-200;
    border-radius: 1.25rem;
    color: $slate-500;
    font-weight: 800;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.75rem;
    font-size: 0.95rem;
    margin-top: 1.5rem;
    position: relative;
    z-index: 10;
    background-color: $white;
    transition: all 0.3s ease;
    
    &:hover {
        border-color: $primary-color;
        color: $primary-color;
        background-color: $indigo-50;
        transform: translateY(-2px);
        
        .add-icon-wrapper {
            background-color: $primary-color;
            color: $white;
        }
    }
}

.add-icon-wrapper {
    width: 1.5rem;
    height: 1.5rem;
    border-radius: 50%;
    background-color: #f3f4f6; // gray-100
    color: #9ca3af; // gray-400
    display: flex;
    align-items: center;
    justify-content: center;
    transition: background-color 0.2s, color 0.2s;
}

.skeleton-container {
    max-width: 42rem;
    margin: 2.5rem auto 0 auto;
    text-align: center;
    display: flex;
    flex-direction: column;
    gap: 1.5rem;
}

.skeleton-spinner {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    border-bottom: 2px solid #4f46e5;
    margin: 0 auto;
    animation: spin 1s linear infinite;
}

// =================================================================================================
// Planner - Day Selector
// =================================================================================================
.day-selector-wrapper {
    width: 100%;
    margin-bottom: 0;
    position: sticky;
    top: 0;
    z-index: 20;
    background-color: $bg-color; // #F8FAFC
    padding: 1rem;
    padding-bottom: 0.5rem;
    
    @include desktop {
        padding: 1.5rem;
        padding-bottom: 0.75rem;
    }
}

.day-selector-scroll {
    display: flex;
    overflow-x: auto;
    padding-bottom: 1rem;
    margin-bottom: 0.5rem;
    cursor: grab;
    
    @include no-scrollbar;

    &:active {
        cursor: grabbing;
    }
}

.day-selector-btn {
    flex-shrink: 0;
    display: flex;
    flex-direction: column;
    align-items: center;
    justify-content: center; // Added for vertical centering
    border: 1px solid #e5e7eb; // gray-200
    border-radius: 9999px; // rounded-full
    padding: 0.5rem 1.25rem; // px-5 py-2 (more horizontal padding)
    margin-right: 0.5rem;
    color: $text-secondary;
    background-color: $white;
    transition: all 0.2s;
    min-width: 90px; // Slightly wider
    min-height: 56px; // Ensure consistent height

    &:hover {
        background-color: #f3f4f6; // gray-100
    }
}

    // Weather Widget
.day-selector-weather-widget {
    background-color: $white;
    border-radius: 1rem;
    padding: 1rem;
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: 0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06);
    margin-bottom: 1rem;
}

.day-selector-weather-left {
    display: flex;
    align-items: center;
    gap: 0.75rem;
}

.day-selector-weather-icon-box {
    width: 2.5rem;
    height: 2.5rem;
    background-color: #f3f4f6; // gray-100
    border-radius: 0.75rem;
    @include flex-center;
}

.day-selector-weather-info {
    display: flex;
    flex-direction: column;
}

.day-selector-weather-title {
    font-size: 0.65rem;
    font-weight: 600;
    color: #9ca3af; // gray-400
    text-transform: uppercase;
    margin-bottom: 0.125rem;
}

.day-selector-weather-details {
    display: flex;
    align-items: center;
    gap: 0.375rem;
}

.day-selector-weather-text {
    font-size: 0.875rem;
    font-weight: 700;
    color: $text-secondary; // gray-600
}

.day-selector-weather-divider {
    font-size: 0.75rem;
    color: #d1d5db; // gray-300
}

.day-selector-weather-temp {
    font-size: 0.875rem; 
    font-weight: 700;
    color: #111827; // gray-900
}

.day-selector-smart-mix-btn {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.75rem;
    font-weight: 600;
    background-color: $white;
    color: $text-secondary;
    border: 1px solid #e5e7eb;
    padding: 0.375rem 0.75rem;
    border-radius: 9999px;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05);
    transition: all 0.2s;

    i {
        font-size: 0.75rem;
        color: #111827;
    }

    &:hover {
        background-color: #f9fafb;
        border-color: #d1d5db;
    }
}

.day-selector-btn-active {
    background-color: $primary-color; // indigo-600
    color: $white;
    border-color: $primary-color;
    box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.3); // indigo-600 shadow
    transform: scale(1.05);

    &:hover {
        background-color: color.adjust($primary-color, $lightness: -5%);
    }
}

// =================================================================================================
// Planner - Day Items (Timeline Item)
// =================================================================================================
.day-items-box {
    position:relative;
}
.day-item-container {
    position: relative;
    transition: all 0.2s;
    
    &.day-dragging {
        opacity: 0.5;
        transform: scale(1.02);
    }
}

.day-item-inner {
    display: flex;
    align-items: stretch;
    gap: 1rem; // md:gap-4
    
    @include mobile {
        gap: 0.5rem;
    }
}

// Extended Content (Expanded State)
.day-extended-container {
    padding-top: 0.75rem; // mt-3 approx (padding for visual reflow)
    border-top: 1px dashed #f1f5f9; // border-slate-100 (visual separator)
    margin-top: 0.75rem;
}

.day-duration-box {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 0.75rem; // mb-3
}

.day-duration-info {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    font-size: 0.8rem; // text-xs+
    color: $text-secondary;
}

.day-duration-time {
    color: #4f46e5; // text-indigo-600
    font-weight: 700;
}

.day-detail-button {
    margin-left: auto;
    font-size: 0.75rem; // text-xs
    background-color: $white;
    border: 1px solid #e5e7eb; // border-gray-200
    padding: 0.375rem 0.75rem; // px-3 py-1.5
    border-radius: 9999px; // rounded-full
    font-weight: 700;
    color: #4f46e5; // text-indigo-600
    display: flex;
    align-items: center;
    gap: 0.25rem;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    transition: all 0.2s;
    
    &:hover {
        background-color: #eef2ff; // bg-indigo-50
        border-color: #c7d2fe; // border-indigo-200
    }
}

.day-highlights {
    font-size: 0.75rem; // text-xs
    color: #9ca3af; // text-gray-400
    padding: 0 0.25rem; // px-1
    display: flex;
    align-items: center;
    gap: 0.5rem; // gap-2
    margin-top: 0.5rem;
}

// Booking Section
.day-booking-container {
    margin-top: 0.75rem; // mt-3 approx
    padding-top: 0.75rem; // pt-3
    border-top: 1px solid #f3f4f6; // border-gray-100
}

.day-booking-title {
    font-size: 0.75rem; // text-xs
    font-weight: 700;
    color: #6b7280; // text-gray-500
    margin-bottom: 0.5rem; // mb-2
    display: flex;
    align-items: center;
    gap: 0.25rem;
}

.day-booking-grid {
    display: grid;
    grid-template-columns: repeat(4, 1fr);
    gap: 0.375rem; // gap-1.5
}

.day-booking-button {
    font-size: 0.625rem; // text-[10px]
    padding: 0.375rem 0; // py-1.5
    border-radius: 0.5rem; // rounded-lg
    border: 1px solid transparent; // border
    transition: all 0.2s;
    font-weight: 700;
    box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.05); // shadow-sm
    display: flex;
    justify-content: center;
    align-items: center;
    cursor: pointer;
    // Note: Colors handled by global booking button classes (.btn-agoda, etc) or specific style overrides
}

// Day Item Layout Base
.day-item-container {
    width: 100%;
}

.day-item-inner {
    display: flex;
    align-items: flex-start;
    gap: 1.25rem;
    position: relative;
    z-index: 5;
    
    @include tablet {
        gap: 1.75rem;
    }
}

// Marker
.day-marker {
    width: 2.25rem;
    height: 2.25rem;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 800;
    font-size: 0.9rem;
    z-index: 10;
    flex-shrink: 0;
    margin-top: 0.25rem;
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    margin-left: 0; // Aligned via parent gap and vertical line position

    @include tablet {
        width: 2.5rem;
        height: 2.5rem;
        font-size: 1rem;
    }
}

.day-marker-selected {
    background-color: $primary-color;
    color: $white;
    box-shadow: 0 0 0 4px $indigo-50, 0 10px 15px -3px rgba(0, 0, 0, 0.1); 
    transform: scale(1.1);
}

.day-marker-normal {
    background-color: $white;
    border: 2px solid $slate-200; 
    color: $slate-400; 
}

// Day Card
.day-card {
    flex: 1;
    background-color: $white;
    border-radius: 1.25rem; 
    padding: 1.25rem; 
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05), 0 2px 4px -1px rgba(0, 0, 0, 0.03);
    border: 2px solid transparent;
    transition: all 0.25s cubic-bezier(0.4, 0, 0.2, 1);
    position: relative;
    cursor: pointer;
    overflow: hidden;

    &:hover {
        box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        border-color: $indigo-100;
        transform: translateY(-2px);
    }
}

.day-selected {
    border-color: $primary-color;
    background-color: $indigo-50;
    box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.1);
}

.day-rain-risk {
    border-color: #fca5a5; // red-300
    background-color: #fef2f2; // red-50
}

// Action Menu
.day-action-lock-btn {
    position: absolute;
    top: 0.75rem;
    right: 2.5rem;
    color: #cbd5e1; // text-slate-300
    transition: color 0.15s;
    
    &.active {
        color: #f59e0b; // text-amber-500
    }
    
    &:hover {
        color: #f59e0b;
    }
}

.day-action-menu-wrapper {
    position: absolute;
    top: 0.5rem;
    right: 0.5rem;
    z-index: 20;
}

.day-action-menu-trigger {
    width: 2rem;
    height: 2rem;
    border-radius: 9999px;
    display: flex;
    align-items: center;
    justify-content: center;
    color: #cbd5e1; // text-slate-300
    transition: all 0.15s;
    
    &:hover {
        background-color: #f1f5f9; // bg-slate-100
        color: $text-secondary;
    }
}

.day-action-dropdown {
    position: absolute;
    right: 0;
    top: 2.25rem;
    width: 12rem; // w-48
    background-color: $white;
    border-radius: 0.75rem; // rounded-xl
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); // shadow-lg
    border: 1px solid #f1f5f9; // border-slate-100
    padding: 0.25rem; // p-1
    z-index: 50;
    animation: fadeIn 0.1s ease-out;
}

.day-action-menu-header {
    padding: 0.5rem 0.75rem;
    font-size: 0.75rem; // text-xs
    font-weight: 600;
    color: $text-secondary;
    display: flex;
    justify-content: space-between;
    align-items: center;
    border-bottom: 1px solid #f1f5f9; // border-slate-100
    margin-bottom: 0.25rem;
}

.day-action-menu-item {
    width: 100%;
    text-align: left;
    padding: 0.5rem 0.75rem;
    font-size: 0.875rem; // text-sm
    color: $text-secondary;
    border-radius: 0.5rem; // rounded-lg
    display: flex;
    align-items: center;
    gap: 0.5rem;
    transition: all 0.15s;
    
    &:hover {
        background-color: #f8fafc; // bg-slate-50
        color: $text-primary;
    }
    
    &.delete-item {
        color: #ef4444; // text-red-500
        &:hover {
            background-color: #fef2f2; // bg-red-50
        }
    }
}

// Content Body
.day-content-body {
    display: flex;
    flex-direction: column;
    height: 100%;
}

.day-meta-row {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 0.5rem; // mb-2
}

.day-time-badge {
    background-color: #f1f5f9; // bg-slate-100
    padding: 0.125rem 0.5rem; // px-2 py-0.5
    border-radius: 0.375rem; // rounded-md
    font-size: 0.75rem; // text-xs
    font-weight: 700;
    color: $text-secondary;
}

.day-external-badge {
    background-color: #ecfdf5; // bg-green-50
    color: #15803d; // text-green-700
    padding: 0.125rem 0.5rem;
    border-radius: 9999px; // rounded-full
    font-size: 0.65rem; // text-[10px]
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    border: 1px solid #bbf7d0; // border-green-200
}

.day-rain-badge {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    font-size: 0.75rem; // text-xs
    font-weight: 700;
    color: #ef4444; // text-red-500
    background-color: rgba(255, 255, 255, 0.8);
    padding: 0.125rem 0.5rem;
    border-radius: 0.375rem;
    animation: pulse 2s infinite;
}

.day-info-row {
    display: flex;
    gap: 0.75rem; // gap-3
    align-items: flex-start;
}

.day-category-icon {
    width: 2.5rem; // w-10
    height: 2.5rem; // h-10
    border-radius: 0.75rem; // rounded-xl
    flex-shrink: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.125rem; // text-lg
}

// Icon Colors
.icon-sightseeing-indoor { background-color: #ecfdf5; color: #059669; } // emerald
.icon-sightseeing-outdoor { background-color: #f0fdf4; color: #16a34a; } // green
.icon-food { background-color: #ffedd5; color: #ea580c; } // orange
.icon-cafe { background-color: #fef3c7; color: #d97706; } // amber
.icon-move { background-color: #eff6ff; color: #3b82f6; } // blue
.icon-stay { background-color: #ecfeff; color: #0891b2; } // cyan
.icon-default { background-color: #f1f5f9; color: #64748b; } // slate

.day-text-container {
    flex: 1;
    min-width: 0; // Fix text overflow
}

.day-title {
    font-weight: 700;
    color: $text-primary;
    font-size: 1rem; // text-base
    margin-bottom: 0.125rem;
    @include text-line-clamp(1);
    display: flex;
    align-items: center;
    gap: 0.5rem;
}

.day-indoor-label {
    font-size: 0.65rem; // text-[10px]
    padding: 0 0.25rem;
    border-radius: 0.25rem;
    flex-shrink: 0;
    
    &.indoor { background-color: #dbeafe; color: #1e40af; } // blue-100 blue-800
    &.outdoor { background-color: #f3f4f6; color: #4b5563; } // gray-100 gray-600
}

.day-content-highlights {
    font-size: 0.75rem; // text-xs
    color: $text-secondary; // text-gray-500
    @include text-line-clamp(1);
}

.day-plan-b-btn {
    margin-top: 0.75rem; // mt-3
    width: 100%;
    position: relative;
    overflow: hidden;
    background: linear-gradient(to right, #e0e7ff, #ede9fe); // indigo-100, violet-100
    padding: 0.625rem; // p-2.5
    border-radius: 0.75rem; // rounded-xl
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.5rem;
    font-size: 0.75rem; // text-xs
    font-weight: 700;
    color: #4338ca; // text-indigo-700
    transition: all 0.2s;
    border: 1px solid rgba(255, 255, 255, 0.5);
    
    &:hover {
        transform: translateY(-1px);
        box-shadow: 0 4px 6px -1px rgba(99, 102, 241, 0.2); // shadow-md
        background: linear-gradient(to right, #c7d2fe, #ddd6fe);
    }
}

.day-btn-overlay {
    position: absolute;
    inset: 0;
    background-color: rgba(255, 255, 255, 0.2);
    opacity: 0;
    transition: opacity 0.2s;
    
    .day-plan-b-btn:hover & {
        opacity: 1;
    }
}

// Travel Time
.travel-time-container {
    position: relative;
    z-index: 11;
    padding: 3rem 0;
    width: 100%;
}

.travel-content-wrapper {
    // Parent timeline-list-area has padding: 1rem (mobile) / 1.5rem (tablet)
    // Marker center is at 2.125rem (mobile) / 2.75rem (tablet)
    // So relative to content edge, center is at 1.125rem (mobile) / 1.25rem (tablet)
    margin-left: 1.125rem; 
    display: flex;
    align-items: center;
    position: relative;
    
    @include tablet {
        margin-left: 1.25rem; 
    }
}

.travel-time-badge {
    background-color: $white;
    padding: 0.45rem 0.9rem;
    border-radius: 2rem;
    border: 1.5px solid $indigo-50;
    font-size: 0.75rem;
    font-weight: 800;
    color: $indigo-600;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.4rem;
    box-shadow: 0 4px 10px -2px rgba(79, 70, 229, 0.1);
    transition: all 0.2s;
    
    // Center the pill on the vertical line
    position: absolute;
    left: 0;
    white-space: nowrap;
    
    i { 
        font-size: 0.85rem; 
        color: $indigo-500;
    }
    
}

.travel-line-divider {
    flex:1;
    height: 2px;
    position: relative;
    display: flex;
    align-items: center;
    justify-content: center;
}

.add-stop-button {
    width: 2.4rem;
    height: 2.4rem;
    border-radius: 50%;
    background-color: $white;
    border: 2px solid $slate-100;
    display: flex;
    align-items: center;
    justify-content: center;
    color: $slate-400;
    transition: all 0.3s cubic-bezier(0.34, 1.56, 0.64, 1);
    left:50%;
    margin-left:-1.2rem;
    // Removed right: 0 to center via justify-content
    top: -1.2rem; // Center vertically on line
    z-index: 10;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
    
    &:hover {
        border-color: $primary-color;
        background-color: $primary-color;
        color: $white;
        transform: scale(1.15) rotate(90deg);
        box-shadow: 0 8px 20px -5px rgba(79, 70, 229, 0.4);
        
        i {
            color: $white;
        }
    }
    
    i {
        font-size: 0.9rem;
        transition: color 0.2s;
    }
}

// =================================================================================================
// Planner - Map Panel (PC)
// =================================================================================================
.planner-map-panel {
    display: none; // hidden by default (mobile)
    flex: 1;
    background-color: #EEF2F5;
    position: relative;
    overflow: hidden;

    @include desktop {
        display: block; // lg:block
    }
}

.planner-map-inner {
    width: 100%;
    height: 100%;
    position: relative;
}

.planner-map-element {
    width: 100%;
    height: 100%;
    background-color: #f1f5f9; // slate-100
    border-radius: 1rem; // rounded-2xl
    overflow: hidden;
    outline: none; // Remove focus ring from Naver map div
}

.planner-map-overlay {
    position: absolute;
    inset: 0;
    pointer-events: none;
    display: flex;
    align-items: center;
    justify-content: center;
}

.planner-map-warning {
    background-color: rgba(0, 0, 0, 0.7);
    color: $white;
    padding: 0.5rem 1rem;
    border-radius: 0.5rem;
    font-size: 0.875rem; // text-sm
    backdrop-filter: blur(12px);
    z-index: 10;
}

.planner-map-bg-pattern {
    position: absolute;
    inset: 0;
    opacity: 0.1;
    pointer-events: none;
    z-index: 0;
}

.planner-map-wrapper {
    width: 100%;
    height: 100%;
    position: relative;
    z-index: 10;
}

.planner-map-controls {
    position: absolute;
    bottom: 2rem; // bottom-8
    right: 2rem; // right-8
    display: flex;
    flex-direction: column;
    gap: 0.5rem; // gap-2
    z-index: 20;
}

.map-control-btn {
    width: 2.75rem; // w-11
    height: 2.75rem; // h-11
    background-color: $white;
    border-radius: 0.75rem; // rounded-xl
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1); // shadow-md
    border: 1px solid #f3f4f6; // border-gray-100
    display: flex;
    align-items: center;
    justify-content: center;
    color: $text-secondary; // text-gray-600
    transition: all 0.2s;

    &:hover {
        color: $primary-color; // #4338CA
        background-color: #f9fafb; // bg-gray-50
    }

    &:active {
        transform: scale(0.95);
    }
}

// =================================================================================================
// Planner - Map Markers (Raw HTML Overlay)
// =================================================================================================
.planner-map-marker-container {
    position: absolute;
    left: 0;
    top: 0;
    width: 20px;
    height: 20px;
}

.planner-map-tooltip {
    position: absolute;
    top: -2.5rem; // -top-10
    left: 50%;
    transform: translateX(-50%) translateY(0.5rem); // translate-y-2
    background-color: $white;
    padding: 0.375rem 0.75rem; // px-3 py-1.5
    border-radius: 0.5rem; // rounded-lg
    box-shadow: 0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04); // shadow-xl
    margin-bottom: 0.5rem; // mb-2
    font-size: 0.75rem; // text-xs
    font-weight: 700;
    color: #1f2937; // text-gray-800
    white-space: nowrap;
    opacity: 0;
    transition: all 0.2s;
    pointer-events: none;
    z-index: 100;

    .group\/marker:hover & {
        opacity: 1;
        transform: translateX(-50%) translateY(0);
    }
}

.planner-map-tooltip-arrow {
    position: absolute;
    bottom: -0.25rem; // -bottom-1
    left: 50%;
    transform: translateX(-50%) rotate(45deg);
    width: 0.5rem; // w-2
    height: 0.5rem; // h-2
    background-color: $white;
    border-bottom: 1px solid #f3f4f6; // border-gray-100
    border-right: 1px solid #f3f4f6;
}

.planner-map-marker-circle {
    width: 2rem; // w-8
    height: 2rem; // h-8
    border-radius: 9999px;
    color: $white;
    background-color: $primary-color; // #4338CA
    border: 3px solid $white;
    box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1); // shadow-lg
    display: flex;
    align-items: center;
    justify-content: center;
    font-weight: 700;
    font-size: 0.875rem; // text-sm
    transform: scale(1);
    transition: all 0.3s;
    
    .group\/marker:hover & {
        transform: scale(1.2);
        z-index: 50;
    }
    &.active {
        transform: scale(1.2);
        z-index: 50;
        box-shadow: 0 0 0 2px rgba(99, 102, 241, 0.5); // ring-2
    }
}

.day-rain-badge {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    background-color: #fef2f2;
    color: #ef4444; // red-500
    font-size: 0.75rem;
    font-weight: 700;
    padding: 0.125rem 0.5rem;
    border-radius: 0.5rem;
    border: 1px solid #fee2e2;
}

.day-external-badge {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    background-color: #f0fdf4; // green-50
    color: #16a34a; // green-600
    font-size: 0.75rem;
    font-weight: 700;
    padding: 0.125rem 0.5rem;
    border-radius: 0.5rem;
    border: 1px solid #dcfce7;
}

.planner-header {
    padding: 2rem 1.5rem 1.5rem;
    background: linear-gradient(135deg, $white 70%, #f5f7ff 100%);
    border-bottom: 1px solid $slate-100;
}

.planner-header-content {
    max-width: 1200px;
    margin: 0 auto;
}

.header-top {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 1rem;
    margin-bottom: 0.75rem;
}

.destination-name {
    font-size: 2rem;
    font-weight: 900;
    color: $slate-900;
    letter-spacing: -0.025em;

    @include desktop {
        font-size: 2.5rem;
    }
}

.theme-tag {
    display: flex;
    align-items: center;
    gap: 0.5rem;
    background: linear-gradient(135deg, $indigo-500 0%, $indigo-700 100%);
    color: $white;
    padding: 0.4rem 1rem;
    border-radius: 9999px;
    font-size: 0.875rem;
    font-weight: 700;
    box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.3);
    
    i {
        font-size: 0.75rem;
    }
}

.summary-info {
    display: flex;
    align-items: center;
    gap: 1rem;
    color: $slate-500;
    font-size: 0.9rem;
    font-weight: 500;
}

.info-item {
    display: flex;
    align-items: center;
    gap: 0.4rem;
}

.info-divider {
    color: $slate-200;
}

.day-focus-header {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    padding: 1rem 1.25rem;
    background-color: $slate-50;
    border-radius: 12px;
    border: 1px solid $slate-200;
    margin-bottom: 1.5rem;
}

.focus-badge {
    background-color: $indigo-600;
    color: $white;
    font-size: 0.7rem;
    font-weight: 800;
    padding: 0.2rem 0.5rem;
    border-radius: 20px;
    white-space: nowrap;
}

.focus-text {
    font-size: 0.95rem;
    font-weight: 700;
    color: $slate-800; 
}

// [Clean up] Moved to day-item-parts section below

.day-content-body {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
    width: 100%;
}

.day-meta-row {
    display: flex;
    align-items: center;
    gap: 0.75rem;
    margin-bottom: 0.25rem;
}

.day-time-badge {
    font-size: 0.875rem !important;
    font-weight: 800 !important;
    color: $slate-800 !important;
    background-color: $slate-100;
    padding: 0.125rem 0.5rem;
    border-radius: 0.5rem;
}

.day-info-row {
    display: flex;
    align-items: flex-start;
    gap: 1.25rem;
}

.day-category-icon {
    width: 3.25rem;
    height: 3.25rem;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    flex-shrink: 0;
    box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.05);
    
    &.icon-sightseeing-outdoor { background-color: #ecfdf5; color: #059669; }
    &.icon-sightseeing-indoor { background-color: #f0f9ff; color: #0284c7; }
    &.icon-food { background-color: #fff7ed; color: #ea580c; }
    &.icon-cafe { background-color: #fffbeb; color: #d97706; }
    &.icon-stay { background-color: #faf5ff; color: #9333ea; }
    &.icon-move { background-color: #f8fafc; color: #475569; }
    &.icon-default { background-color: #f1f5f9; color: $slate-600; }
}

.day-info-text {
    flex: 1;
    min-width: 0;
}

.day-info-title-row {
    display: flex;
    align-items: center;
    flex-wrap: wrap;
    gap: 0.6rem;
    margin-bottom: 0.5rem;
}

.day-place-name {
    font-size: 1.25rem !important;
    font-weight: 900 !important;
    color: $slate-900 !important;
    display: block;
}

.day-indoor-label {
    font-size: 0.7rem;
    padding: 0.15rem 0.6rem;
    border-radius: 0.5rem;
    font-weight: 800;
    text-transform: uppercase;
    
    &.indoor { background-color: #d1fae5; color: #065f46; }
    &.outdoor { background-color: #ffedd5; color: #9a3412; }
}

.day-stay-time {
    font-size: 0.85rem !important;
    color: $slate-600 !important;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 0.3rem;
    
    i { color: $slate-400; }
}

.day-tags-row {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
    margin-top: 0.75rem;
}

.day-tag-badge {
    font-size: 0.75rem !important;
    color: $indigo-700 !important;
    background-color: $indigo-50;
    padding: 0.25rem 0.75rem;
    border-radius: 0.75rem;
    font-weight: 700;
    border: 1px solid $indigo-100;
}

.day-address-row {
    font-size: 0.85rem !important;
    color: $slate-600 !important;
    margin-top: 0.75rem;
    display: flex;
    align-items: flex-start;
    gap: 0.4rem;
    line-height: 1.4;
    
    i { 
        color: $slate-400; 
        margin-top: 0.2rem;
        font-size: 0.9rem;
    }
}

// Extended Info Area (Expanded state)
.day-extended-container {
    margin-top: 1rem;
    padding-top: 1rem;
    border-top: 1px solid rgba($slate-400, 0.1);
    display: flex;
    flex-direction: column;
    gap: 1rem;
}

.day-duration-box {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background-color: $white;
    padding: 0.6rem 0.8rem;
    border-radius: 0.75rem;
    border: 1px solid $slate-100;
}

.day-duration-info {
    display: flex;
    align-items: center;
    gap: 0.4rem;
    font-size: 0.85rem;
    color: $slate-500;
    font-weight: 700;

    .day-duration-time {
        color: $slate-800;
    }
}

.day-detail-button {
    font-size: 0.8rem;
    font-weight: 800;
    color: $indigo-600;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.35rem 0.65rem;
    background-color: $indigo-50;
    border: 1px solid $indigo-100;
    border-radius: 0.5rem;
    transition: all 0.2s cubic-bezier(0.4, 0, 0.2, 1);
    box-shadow: 0 1px 2px 0 rgba(79, 70, 229, 0.05);
    
    &:hover {
        background-color: $indigo-600;
        color: $white;
        border-color: $indigo-600;
        transform: translateY(-1px);
        box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.2);
    }
}

.day-highlights {
    font-size: 0.85rem;
    color: $slate-600;
    background-color: rgba($slate-100, 0.5);
    padding: 0.6rem 0.8rem;
    border-radius: 0.6rem;
    line-height: 1.4;
    display: flex;
    align-items: flex-start;
    gap: 0.4rem;
    
    i {
        font-size: 0.7rem;
        color: $slate-300;
        margin-top: 0.2rem;
    }
}

.day-booking-container {
    display: flex;
    flex-direction: column;
    gap: 0.75rem;
}

.day-booking-title {
    font-size: 0.85rem;
    font-weight: 800;
    color: $slate-700;
    display: flex;
    align-items: center;
    gap: 0.4rem;
}

.day-booking-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 0.5rem;
}

.day-booking-button {
    padding: 0.6rem;
    font-size: 0.8rem;
    font-weight: 700;
    border-radius: 0.5rem;
    text-align: center;
    transition: all 0.2s;
    border: 1px solid transparent;
    
    &:hover {
        transform: translateY(-2px);
        filter: brightness(0.95);
        box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
    }
    
    &.btn-agoda { background-color: #12172D; color: $white; }
    &.btn-yanolja { background-color: #FF3478; color: $white; }
    &.btn-yeogi { background-color: #F21137; color: $white; }
    &.btn-hotelscombined { background-color: #00A1E6; color: $white; }
}

.day-plan-b-btn {
    margin-top: 1rem;
    width: 100%;
    padding: 1rem;
    background: linear-gradient(135deg, $indigo-50 0%, #ffffff 100%);
    color: $indigo-700;
    border-radius: 1rem;
    font-weight: 800;
    font-size: 0.95rem;
    display: flex;
    align-items: center;
    justify-content: center;
    gap: 0.6rem;
    border: 1px solid $indigo-200;
    box-shadow: 0 4px 6px -1px rgba(79, 70, 229, 0.1);
    transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    
    &:hover {
        background-color: $indigo-100;
        box-shadow: 0 10px 15px -3px rgba(79, 70, 229, 0.2);
        transform: translateY(-2px);
    }
}

// =================================================================================================
// Detail Popup (Modal)
// =================================================================================================
.detail-popup-overlay {
    position: fixed;
    top: 0;
    left: 0;
    width: 100%;
    height: 100%;
    background-color: rgba(0, 0, 0, 0.4);
    backdrop-filter: blur(4px);
    display: flex;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    padding: 1rem;
    animation: fadeIn 0.2s ease-out;
}

@keyframes fadeIn {
    from { opacity: 0; }
    to { opacity: 1; }
}

.detail-popup-container {
    background-color: $white;
    width: 100%;
    max-width: 32rem; // 512px
    max-height: 90vh;
    border-radius: 1.5rem;
    overflow-y: auto;
    position: relative;
    box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
    animation: slideUp 0.3s cubic-bezier(0.16, 1, 0.3, 1);
}

@keyframes slideUp {
    from { transform: translateY(20px); opacity: 0; }
    to { transform: translateY(0); opacity: 1; }
}

.detail-popup-header {
    position: relative;
    height: 15rem;
    width: 100%;
    background-color: $slate-100;
}

.detail-popup-header-image {
    object-fit: cover;
}

.detail-popup-header-placeholder {
    width: 100%;
    height: 100%;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: $indigo-50;
    color: $indigo-200;
    font-size: 4rem;
}

.detail-popup-header-gradient {
    position: absolute;
    inset: 0;
    background: linear-gradient(to top, rgba(0,0,0,0.8) 0%, transparent 60%);
}

.detail-popup-header-content {
    position: absolute;
    bottom: 0;
    left: 0;
    padding: 1.5rem;
    color: $white;
}

.detail-popup-badge {
    display: inline-block;
    background-color: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(4px);
    padding: 0.25rem 0.75rem;
    border-radius: 9999px;
    font-size: 0.75rem;
    font-weight: 700;
    margin-bottom: 0.5rem;
}

.detail-popup-title {
    font-size: 1.5rem;
    font-weight: 800;
    margin: 0;
    text-shadow: 0 2px 4px rgba(0,0,0,0.3);
}

.detail-popup-address {
    font-size: 0.875rem;
    display: flex;
    align-items: center;
    gap: 0.25rem;
    opacity: 0.9;
    margin-top: 0.5rem;
}

.detail-popup-close-btn {
    position: absolute;
    top: 1rem;
    right: 1rem;
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 50%;
    background-color: rgba(255, 255, 255, 0.2);
    backdrop-filter: blur(8px);
    color: $white;
    display: flex;
    align-items: center;
    justify-content: center;
    transition: all 0.2s;
    border: none;
    cursor: pointer;
    z-index: 10;

    &:hover {
        background-color: rgba(255, 255, 255, 0.4);
        transform: rotate(90deg);
    }
}

.detail-popup-body {
    padding: 1.5rem;
}

.detail-popup-info-grid {
    display: grid;
    grid-template-columns: repeat(2, 1fr);
    gap: 1rem;
    margin-bottom: 2rem;
}

.detail-popup-info-card {
    background-color: $slate-50;
    padding: 1rem;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    gap: 0.75rem;
    border: 1px solid $slate-100;
}

.detail-popup-icon-box {
    width: 2.5rem;
    height: 2.5rem;
    border-radius: 0.75rem;
    display: flex;
    align-items: center;
    justify-content: center;
    
    &.detail-popup-icon-blue { background-color: #eff6ff; color: #3b82f6; }
    &.detail-popup-icon-orange { background-color: #fff7ed; color: #f97316; }
}

.detail-popup-info-label {
    font-size: 0.75rem;
    color: $slate-500;
    margin-bottom: 0.125rem;
    font-weight: 600;
}

.detail-popup-info-value {
    font-size: 0.9rem;
    font-weight: 700;
    color: $slate-900;
}

.detail-popup-section {
    margin-bottom: 2rem;
    
    &:last-child { margin-bottom: 0; }
}

.detail-popup-section-title {
    font-size: 1rem;
    font-weight: 800;
    color: $slate-800;
    display: flex;
    align-items: center;
    gap: 0.5rem;
    margin-bottom: 1rem;
}

.detail-popup-tags {
    display: flex;
    flex-wrap: wrap;
    gap: 0.5rem;
}

.detail-popup-tag {
    background-color: $slate-100;
    color: $slate-600;
    padding: 0.35rem 0.75rem;
    border-radius: 0.5rem;
    font-size: 0.8rem;
    font-weight: 700;
}

.detail-popup-address-box {
    background-color: $slate-50;
    padding: 1rem;
    border-radius: 1rem;
    display: flex;
    align-items: center;
    gap: 1rem;
    border: 1px solid $slate-100;
    font-size: 0.9rem;
    color: $slate-700;
}

.detail-popup-copy-btn {
    width: 2rem;
    height: 2rem;
    display: flex;
    align-items: center;
    justify-content: center;
    color: $slate-400;
    transition: color 0.2s;
    background: none;
    border: none;
    cursor: pointer;
    
    &:hover { color: $indigo-500; }
}

.reserved-btn-group {
    button {
        background-color: $slate-50;
        border: 1px solid $slate-200;
        padding: 0.75rem;
        border-radius: 0.75rem;
        font-weight: 700;
        font-size: 0.9rem;
        transition: all 0.2s;
        
        &:hover {
            border-color: $indigo-300;
            background-color: $indigo-50;
            color: $indigo-600;
        }
    }
}
